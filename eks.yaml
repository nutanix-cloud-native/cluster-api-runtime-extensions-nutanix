apiVersion: v1
items:
- apiVersion: bootstrap.cluster.x-k8s.io/v1beta2
  kind: NodeadmConfigTemplate
  metadata:
    annotations:
      cluster.x-k8s.io/cloned-from-groupkind: NodeadmConfigTemplate.bootstrap.cluster.x-k8s.io
      cluster.x-k8s.io/cloned-from-name: eks-quick-start-worker-configtemplate
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:51:24Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
      cluster.x-k8s.io/provider: eks
      topology.cluster.x-k8s.io/deployment-name: md-0
      topology.cluster.x-k8s.io/owned: ""
    name: dk-eks-awslb-2-md-0-zlndg
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: Cluster
      name: dk-eks-awslb-2
      uid: 66a4b0f0-b62f-4564-ad3d-365a8f532c10
    resourceVersion: "2801"
    uid: c56ded70-23b6-42b8-9d74-46fafacca457
  spec:
    template:
      spec: {}
- apiVersion: bootstrap.cluster.x-k8s.io/v1beta2
  kind: NodeadmConfigTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:08Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: eks
    name: eks-quick-start-worker-configtemplate
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: eks-quick-start
      uid: 85c2e49c-aa03-4cfd-8b6b-929a604c052a
    resourceVersion: "2196"
    uid: 508b212d-20d5-4515-bd4a-db37cced6831
  spec:
    template:
      spec: {}
- apiVersion: bootstrap.cluster.x-k8s.io/v1beta1
  kind: KubeadmConfigTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:08Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: aws
    name: aws-quick-start-worker-bootstraptemplate
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: aws-quick-start
      uid: 4bab61e7-664b-43e3-b4ba-af3bae57d950
    resourceVersion: "2198"
    uid: 57f7360a-ab29-4835-be05-38aabe4f2df2
  spec:
    template:
      metadata: {}
      spec:
        files:
        - content: |
            apiVersion: kubelet.config.k8s.io/v1beta1
            kind: KubeletConfiguration
            evictionHard:
              nodefs.available: "10%"
              nodefs.inodesFree: "5%"
              imagefs.available: "15%"
              memory.available: "100Mi"
              imagefs.inodesFree: "10%"
          path: /etc/kubernetes/patches/kubeletconfiguration0+strategic.json
          permissions: "0600"
        - content: |
            apiVersion: kubelet.config.k8s.io/v1beta1
            kind: KubeletConfiguration
            # 4.2.4 Ensure that the --read-only-port argument is set to 0
            readOnlyPort: 0
            # 4.2.5 Ensure that the --streaming-connection-idle-timeout argument is not set to 0
            # Recommendation: Set to 5m instead of 4h as per CIS guidelines
            streamingConnectionIdleTimeout: "5m"
            # 4.2.8 Ensure that the event-qps argument is set to a level which ensures appropriate event capture
            eventRecordQPS: 5
            # 4.2.12 Updated with recommended strong cipher suites
            tlsCipherSuites: [TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384]
            # 4.2.13 Ensure that a limit is set on pod PIDs
            podPidsLimit: 4096
          path: /etc/kubernetes/patches/kubeletconfiguration1+strategic.json
          permissions: "0600"
        format: cloud-config
        joinConfiguration:
          discovery: {}
          nodeRegistration:
            imagePullPolicy: IfNotPresent
            kubeletExtraArgs:
              cloud-provider: external
            name: '{{ ds.meta_data.local_hostname }}'
          patches:
            directory: /etc/kubernetes/patches
        postKubeadmCommands:
        - chmod 600 "$(systemctl show -P FragmentPath kubelet.service)"
        - chmod 600 $(systemctl show -P DropInPaths kubelet.service)
        - chmod 600 /var/lib/kubelet/config.yaml
- apiVersion: bootstrap.cluster.x-k8s.io/v1beta1
  kind: KubeadmConfigTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:08Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: docker
    name: docker-quick-start-default-worker-bootstraptemplate
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: docker-quick-start
      uid: 1adf57d2-3d62-45c0-b309-4453b9572c7a
    resourceVersion: "2192"
    uid: 949ff903-d5b7-44ec-8c48-a59fb135ad84
  spec:
    template:
      metadata: {}
      spec:
        files:
        - content: |
            apiVersion: kubelet.config.k8s.io/v1beta1
            kind: KubeletConfiguration
            # 4.2.4 Ensure that the --read-only-port argument is set to 0
            readOnlyPort: 0
            # 4.2.5 Ensure that the --streaming-connection-idle-timeout argument is not set to 0
            # Recommendation: Set to 5m instead of 4h as per CIS guidelines
            streamingConnectionIdleTimeout: "5m"
            # 4.2.8 Ensure that the event-qps argument is set to a level which ensures appropriate event capture
            eventRecordQPS: 5
            # 4.2.12 Updated with recommended strong cipher suites
            tlsCipherSuites: [TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384]
            # 4.2.13 Ensure that a limit is set on pod PIDs
            podPidsLimit: 4096
          path: /etc/kubernetes/patches/kubeletconfiguration1+strategic.json
          permissions: "0600"
        format: cloud-config
        joinConfiguration:
          discovery: {}
          nodeRegistration:
            imagePullPolicy: IfNotPresent
          patches:
            directory: /etc/kubernetes/patches
        postKubeadmCommands:
        - chmod 600 "$(systemctl show -P FragmentPath kubelet.service)"
        - chmod 600 $(systemctl show -P DropInPaths kubelet.service)
        - chmod 600 /var/lib/kubelet/config.yaml
- apiVersion: bootstrap.cluster.x-k8s.io/v1beta1
  kind: KubeadmConfigTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:08Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: nutanix
    name: nutanix-quick-start-kcfg-0
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: nutanix-quick-start
      uid: 29120efe-8866-4d49-bc1c-0ec2dce8096b
    resourceVersion: "2201"
    uid: dc781459-e387-4ecb-91ab-7bc3478f8fe3
  spec:
    template:
      metadata: {}
      spec:
        files:
        - content: |
            apiVersion: kubelet.config.k8s.io/v1beta1
            kind: KubeletConfiguration
            evictionHard:
              nodefs.available: "10%"
              nodefs.inodesFree: "5%"
              imagefs.available: "15%"
              memory.available: "100Mi"
              imagefs.inodesFree: "10%"
          path: /etc/kubernetes/patches/kubeletconfiguration0+strategic.json
          permissions: "0600"
        - content: |
            apiVersion: kubelet.config.k8s.io/v1beta1
            kind: KubeletConfiguration
            # 4.2.4 Ensure that the --read-only-port argument is set to 0
            readOnlyPort: 0
            # 4.2.5 Ensure that the --streaming-connection-idle-timeout argument is not set to 0
            # Recommendation: Set to 5m instead of 4h as per CIS guidelines
            streamingConnectionIdleTimeout: "5m"
            # 4.2.8 Ensure that the event-qps argument is set to a level which ensures appropriate event capture
            eventRecordQPS: 5
            # 4.2.12 Updated with recommended strong cipher suites
            tlsCipherSuites: [TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384]
            # 4.2.13 Ensure that a limit is set on pod PIDs
            podPidsLimit: 4096
          path: /etc/kubernetes/patches/kubeletconfiguration1+strategic.json
          permissions: "0600"
        format: cloud-config
        joinConfiguration:
          discovery: {}
          nodeRegistration:
            imagePullPolicy: IfNotPresent
            kubeletExtraArgs:
              cloud-provider: external
          patches:
            directory: /etc/kubernetes/patches
        postKubeadmCommands:
        - echo "after kubeadm call" > /var/log/postkubeadm.log
        - chmod 600 "$(systemctl show -P FragmentPath kubelet.service)"
        - chmod 600 $(systemctl show -P DropInPaths kubelet.service)
        - chmod 600 /var/lib/kubelet/config.yaml
        preKubeadmCommands:
        - echo "before kubeadm call" > /var/log/prekubeadm.log
        - hostnamectl set-hostname "{{ ds.meta_data.hostname }}"
        verbosity: 10
- apiVersion: cluster.x-k8s.io/v1beta1
  kind: ClusterClass
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:07Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: aws
    name: aws-quick-start
    namespace: default
    resourceVersion: "2308"
    uid: 4bab61e7-664b-43e3-b4ba-af3bae57d950
  spec:
    controlPlane:
      machineInfrastructure:
        ref:
          apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
          kind: AWSMachineTemplate
          name: aws-quick-start-control-plane
          namespace: default
      metadata: {}
      ref:
        apiVersion: controlplane.cluster.x-k8s.io/v1beta1
        kind: KubeadmControlPlaneTemplate
        name: aws-quick-start-control-plane
        namespace: default
    infrastructure:
      ref:
        apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
        kind: AWSClusterTemplate
        name: aws-quick-start
        namespace: default
    patches:
    - external:
        discoverVariablesExtension: awsclusterconfigvars-dv.cluster-api-runtime-extensions-nutanix
        generateExtension: awsclusterv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      name: cluster-config
    - external:
        discoverVariablesExtension: awsworkerconfigvars-dv.cluster-api-runtime-extensions-nutanix
        generateExtension: awsworkerv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      name: worker-config
    workers:
      machineDeployments:
      - class: default-worker
        template:
          bootstrap:
            ref:
              apiVersion: bootstrap.cluster.x-k8s.io/v1beta1
              kind: KubeadmConfigTemplate
              name: aws-quick-start-worker-bootstraptemplate
              namespace: default
          infrastructure:
            ref:
              apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
              kind: AWSMachineTemplate
              name: aws-quick-start-worker-machinetemplate
              namespace: default
          metadata: {}
  status:
    conditions:
    - lastTransitionTime: "2025-10-13T20:50:08Z"
      status: "True"
      type: RefVersionsUpToDate
    - lastTransitionTime: "2025-10-13T20:50:13Z"
      status: "True"
      type: VariablesReconciled
    observedGeneration: 1
    v1beta2:
      conditions:
      - lastTransitionTime: "2025-10-13T20:50:08Z"
        message: ""
        observedGeneration: 1
        reason: RefVersionsUpToDate
        status: "True"
        type: RefVersionsUpToDate
      - lastTransitionTime: "2025-10-13T20:50:13Z"
        message: ""
        observedGeneration: 1
        reason: VariablesReady
        status: "True"
        type: VariablesReady
      - lastTransitionTime: "2025-10-13T20:50:07Z"
        message: ""
        observedGeneration: 1
        reason: NotPaused
        status: "False"
        type: Paused
    variables:
    - definitions:
      - from: cluster-config
        metadata: {}
        required: true
        schema:
          openAPIV3Schema:
            description: AWSClusterConfigSpec defines the desired state of ClusterConfig.
            properties:
              addons:
                properties:
                  ccm:
                    description: CCM tells us to enable or disable the cloud provider
                      interface.
                    properties:
                      credentials:
                        description: A reference to the Secret for credential information
                          for the target Prism Central instance
                        properties:
                          secretRef:
                            description: A reference to the Secret containing the
                              credentials used by the CCM provider.
                            properties:
                              name:
                                description: |-
                                  Name of the referent.
                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                maxLength: 253
                                minLength: 1
                                type: string
                            required:
                            - name
                            type: object
                        required:
                        - secretRef
                        type: object
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy the CCM to the
                          workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                    type: object
                  clusterAutoscaler:
                    description: ClusterAutoscaler tells us to enable or disable the
                      cluster-autoscaler addon.
                    properties:
                      strategy:
                        default: HelmAddon
                        description: |-
                          Addon strategy used to deploy cluster-autoscaler to the management cluster
                          targeting the workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                    type: object
                  cni:
                    description: CNI required for providing CNI configuration.
                    properties:
                      provider:
                        description: CNI provider to deploy.
                        enum:
                        - Calico
                        - Cilium
                        type: string
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy the CNI provider
                          to the workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                      values:
                        description: Values contains the helm values for the CNI when
                          HelmAddon is the strategy.
                        properties:
                          sourceRef:
                            description: |-
                              SourceRef is an object reference to Configmap/Secret inside the same namespace
                              which contains inline YAML representing the values for the Helm chart.
                            properties:
                              kind:
                                description: Kind is the type of resource being referenced,
                                  valid values are ('ConfigMap').
                                enum:
                                - ConfigMap
                                type: string
                              name:
                                description: Name is the name of resource being referenced.
                                maxLength: 253
                                minLength: 1
                                type: string
                            required:
                            - kind
                            - name
                            type: object
                        type: object
                    required:
                    - provider
                    type: object
                  csi:
                    properties:
                      defaultStorage:
                        properties:
                          provider:
                            description: Name of the CSI Provider for the default
                              storage class.
                            enum:
                            - aws-ebs
                            type: string
                          storageClassConfig:
                            description: Name of the default storage class config
                              the specified default provider.
                            maxLength: 242
                            minLength: 1
                            type: string
                        required:
                        - provider
                        - storageClassConfig
                        type: object
                      providers:
                        properties:
                          aws-ebs:
                            properties:
                              credentials:
                                description: The reference to any secret used by the
                                  CSI Provider.
                                properties:
                                  secretRef:
                                    description: A reference to the Secret containing
                                      the credentials used by the CSI provider.
                                    properties:
                                      name:
                                        description: |-
                                          Name of the referent.
                                          More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        maxLength: 253
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    type: object
                                required:
                                - secretRef
                                type: object
                              storageClassConfigs:
                                additionalProperties:
                                  properties:
                                    allowExpansion:
                                      description: If the storage class should allow
                                        volume expanding
                                      type: boolean
                                    parameters:
                                      additionalProperties:
                                        type: string
                                      description: Parameters passed into the storage
                                        class object.
                                      type: object
                                    reclaimPolicy:
                                      default: Delete
                                      description: PersistentVolumeReclaimPolicy describes
                                        a policy for end-of-life maintenance of persistent
                                        volumes.
                                      enum:
                                      - Delete
                                      - Retain
                                      - Recycle
                                      type: string
                                    volumeBindingMode:
                                      default: WaitForFirstConsumer
                                      description: VolumeBindingMode indicates how
                                        PersistentVolumeClaims should be bound.
                                      enum:
                                      - Immediate
                                      - WaitForFirstConsumer
                                      type: string
                                  type: object
                                description: StorageClassConfigs is a map of storage
                                  class configurations for this CSI provider.
                                type: object
                              strategy:
                                default: HelmAddon
                                description: Addon strategy used to deploy the CSI
                                  provider to the workload cluster.
                                enum:
                                - ClusterResourceSet
                                - HelmAddon
                                type: string
                            required:
                            - storageClassConfigs
                            type: object
                        required:
                        - aws-ebs
                        type: object
                      snapshotController:
                        description: Deploy the CSI snapshot controller and associated
                          CRDs.
                        properties:
                          strategy:
                            default: HelmAddon
                            description: Addon strategy used to deploy the snapshot
                              controller to the workload cluster.
                            enum:
                            - ClusterResourceSet
                            - HelmAddon
                            type: string
                        type: object
                    required:
                    - defaultStorage
                    - providers
                    type: object
                  nfd:
                    description: NFD tells us to enable or disable the node feature
                      discovery addon.
                    properties:
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy Node Feature Discovery
                          (NFD) to the workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                    type: object
                  registry:
                    properties:
                      provider:
                        default: CNCF Distribution
                        description: The OCI registry provider to deploy.
                        enum:
                        - CNCF Distribution
                        type: string
                    required:
                    - provider
                    type: object
                  serviceLoadBalancer:
                    properties:
                      configuration:
                        description: Configuration for the chosen ServiceLoadBalancer
                          provider.
                        properties:
                          addressRanges:
                            description: |-
                              AddressRanges is a list of IPv4 address ranges the
                              provider uses to choose an address for a load balancer.
                            items:
                              description: AddressRange defines an IPv4 range.
                              properties:
                                end:
                                  format: ipv4
                                  type: string
                                start:
                                  format: ipv4
                                  type: string
                              required:
                              - end
                              - start
                              type: object
                            maxItems: 10
                            minItems: 1
                            type: array
                        required:
                        - addressRanges
                        type: object
                      provider:
                        description: |-
                          The LoadBalancer-type Service provider to deploy. Not required in infrastructures where
                          the CCM acts as the provider.
                        enum:
                        - MetalLB
                        type: string
                    required:
                    - provider
                    type: object
                type: object
              aws:
                description: AWS cluster configuration.
                properties:
                  additionalTags:
                    additionalProperties:
                      type: string
                    description: |-
                      AdditionalTags is an optional set of tags to add to an instance,
                      in addition to the ones added by default by the AWS provider.
                    type: object
                  controlPlaneLoadBalancer:
                    description: AWSLoadBalancerSpec configures an AWS control-plane
                      LoadBalancer.
                    properties:
                      scheme:
                        default: internet-facing
                        description: Scheme sets the scheme of the load balancer.
                        enum:
                        - internet-facing
                        - internal
                        type: string
                    type: object
                  identityRef:
                    description: |-
                      IdentityRef is a reference to an identity to be used when reconciling the managed control plane.
                      If no identity is specified, the default identity for this controller will be used.
                    properties:
                      kind:
                        description: Kind of the identity.
                        enum:
                        - AWSClusterControllerIdentity
                        - AWSClusterRoleIdentity
                        - AWSClusterStaticIdentity
                        type: string
                      name:
                        description: Name of the identity.
                        minLength: 1
                        type: string
                    required:
                    - kind
                    - name
                    type: object
                  network:
                    description: AWS network configuration.
                    properties:
                      subnets:
                        description: AWS Subnet configuration.
                        items:
                          description: SubnetSpec configures an AWS Subnet.
                          properties:
                            id:
                              description: Existing Subnet ID to use for the cluster.
                              format: ^subnet-[0-9a-f]{8}(?:[0-9a-f]{9})?$
                              type: string
                          required:
                          - id
                          type: object
                        maxItems: 10
                        type: array
                      vpc:
                        properties:
                          id:
                            description: Existing VPC ID to use for the cluster.
                            format: ^vpc-[0-9a-f]{8}(?:[0-9a-f]{9})?$
                            type: string
                        required:
                        - id
                        type: object
                    type: object
                  region:
                    description: AWS region to create cluster in.
                    maxLength: 16
                    minLength: 4
                    type: string
                type: object
              controlPlane:
                description: AWSControlPlaneSpec defines the desired state of the
                  control plane for an AWS cluster.
                properties:
                  autoRenewCertificates:
                    description: |-
                      AutoRenewCertificates specifies the configuration for auto-renewing the
                      certificates of the control plane.
                    properties:
                      daysBeforeExpiry:
                        description: |-
                          DaysBeforeExpiry indicates a rollout needs to be performed if the
                          certificates of the control plane will expire within the specified days.
                          Set to 0 to disable automated certificate renewal.
                        format: int32
                        type: integer
                        x-kubernetes-validations:
                        - message: Value must be 0 or at least 7
                          rule: self == 0 || self >= 7
                    required:
                    - daysBeforeExpiry
                    type: object
                  aws:
                    properties:
                      additionalSecurityGroups:
                        items:
                          properties:
                            id:
                              description: ID is the id of the security group
                              format: ^sg-[0-9a-f]{8}(?:[0-9a-f]{9})?$
                              minLength: 1
                              type: string
                          type: object
                        maxItems: 32
                        type: array
                      additionalTags:
                        additionalProperties:
                          type: string
                        description: |-
                          AdditionalTags is an optional set of tags to add to an instance,
                          in addition to the ones added by default by the AWS provider.
                        type: object
                      ami:
                        description: |-
                          AMI or AMI Lookup arguments for machine image of a AWS machine.
                          If both AMI ID and AMI lookup arguments are provided then AMI ID takes precedence
                        properties:
                          id:
                            description: AMI ID is the reference to the AMI from which
                              to create the machine instance.
                            format: ^ami-[0-9a-f]{8}(?:[0-9a-f]{9})?$
                            minLength: 1
                            type: string
                          lookup:
                            description: Lookup is the lookup arguments for the AMI.
                            properties:
                              baseOS:
                                description: The name of the base os for image lookup
                                maxLength: 32
                                minLength: 1
                                type: string
                              format:
                                description: |-
                                  AMI naming format. Supports substitutions for {{.BaseOS}} and {{.K8sVersion}} with the
                                  base OS and kubernetes version.
                                example: capa-ami-{{.BaseOS}}-?{{.K8sVersion}}-*
                                maxLength: 128
                                minLength: 1
                                type: string
                              org:
                                description: The AWS Organization ID to use for image
                                  lookup.
                                format: ^o-[0-9a-z]{10,32}$
                                maxLength: 34
                                minLength: 12
                                type: string
                            type: object
                        type: object
                      iamInstanceProfile:
                        default: control-plane.cluster-api-provider-aws.sigs.k8s.io
                        description: The IAM instance profile to use for the cluster
                          Machines.
                        maxLength: 128
                        minLength: 1
                        type: string
                      instanceType:
                        default: m5.xlarge
                        maxLength: 32
                        minLength: 1
                        type: string
                      placementGroup:
                        description: PlacementGroup specifies the placement group
                          in which to launch the instance.
                        properties:
                          name:
                            description: Name is the name of the placement group.
                            maxLength: 255
                            minLength: 1
                            type: string
                        required:
                        - name
                        type: object
                      volumes:
                        description: Configuration options for the root and additional
                          storage volume.
                        properties:
                          nonroot:
                            description: Configuration options for non-root storage
                              volumes.
                            items:
                              properties:
                                deviceName:
                                  description: Device name
                                  type: string
                                encrypted:
                                  description: Encrypted is whether the volume should
                                    be encrypted or not.
                                  type: boolean
                                encryptionKey:
                                  description: |-
                                    EncryptionKey is the KMS key to use to encrypt the volume. Can be either a KMS key ID or ARN.
                                    If Encrypted is set and this is omitted, the default AWS key will be used.
                                    The key must already exist and be accessible by the controller.
                                  type: string
                                iops:
                                  description: IOPS is the number of IOPS requested
                                    for the disk. Not applicable to all types.
                                  format: int64
                                  type: integer
                                size:
                                  description: |-
                                    Size specifies size (in Gi) of the storage device.
                                    Must be greater than the image snapshot size or 8 (whichever is greater).
                                  format: int64
                                  minimum: 8
                                  type: integer
                                throughput:
                                  description: Throughput to provision in MiB/s supported
                                    for the volume type. Not applicable to all types.
                                  format: int64
                                  type: integer
                                type:
                                  description: Type is the type of the volume (e.g.
                                    gp2, io1, etc...).
                                  type: string
                              type: object
                            type: array
                          root:
                            description: Configuration options for the root storage
                              volume.
                            properties:
                              deviceName:
                                description: Device name
                                type: string
                              encrypted:
                                description: Encrypted is whether the volume should
                                  be encrypted or not.
                                type: boolean
                              encryptionKey:
                                description: |-
                                  EncryptionKey is the KMS key to use to encrypt the volume. Can be either a KMS key ID or ARN.
                                  If Encrypted is set and this is omitted, the default AWS key will be used.
                                  The key must already exist and be accessible by the controller.
                                type: string
                              iops:
                                description: IOPS is the number of IOPS requested
                                  for the disk. Not applicable to all types.
                                format: int64
                                type: integer
                              size:
                                description: |-
                                  Size specifies size (in Gi) of the storage device.
                                  Must be greater than the image snapshot size or 8 (whichever is greater).
                                format: int64
                                minimum: 8
                                type: integer
                              throughput:
                                description: Throughput to provision in MiB/s supported
                                  for the volume type. Not applicable to all types.
                                format: int64
                                type: integer
                              type:
                                description: Type is the type of the volume (e.g.
                                  gp2, io1, etc...).
                                type: string
                            type: object
                        type: object
                    type: object
                  nodeRegistration:
                    default: {}
                    description: NodeRegistration holds fields that relate to registering
                      the new node to the cluster.
                    properties:
                      ignorePreflightErrors:
                        default:
                        - SystemVerification
                        description: |-
                          IgnorePreflightErrors specifies a slice of pre-flight errors to be ignored by kubeadm
                          when the current node is registered.
                        items:
                          maxLength: 512
                          minLength: 1
                          type: string
                        maxItems: 50
                        type: array
                    type: object
                  taints:
                    description: Taints specifies the taints the Node API object should
                      be registered with.
                    items:
                      description: |-
                        The node this Taint is attached to has the "effect" on
                        any pod that does not tolerate the Taint.
                      properties:
                        effect:
                          default: NoSchedule
                          description: |-
                            The effect of the taint on pods that do not tolerate the taint.
                            Valid effects are NoSchedule, PreferNoSchedule and NoExecute.
                          enum:
                          - NoSchedule
                          - PreferNoSchedule
                          - NoExecute
                          type: string
                        key:
                          description: The taint key to be applied to a node.
                          maxLength: 253
                          type: string
                        value:
                          description: The taint value corresponding to the taint
                            key.
                          maxLength: 63
                          minLength: 1
                          type: string
                      required:
                      - effect
                      - key
                      type: object
                    maxItems: 32
                    type: array
                type: object
              dns:
                description: DNS defines the DNS configuration for the cluster.
                properties:
                  coreDNS:
                    description: CoreDNS defines the CoreDNS configuration for the
                      cluster.
                    properties:
                      image:
                        description: |-
                          Image required for overriding Kubernetes DNS image details.
                          If the image version is not specified,
                          the default version based on the cluster's Kubernetes version will be used.
                        properties:
                          repository:
                            description: Repository is used to override the image
                              repository to pull from.
                            maxLength: 2048
                            minLength: 1
                            pattern: ^((?:[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*|\[(?:[a-fA-F0-9:]+)\])(:[0-9]+)?/)?[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*(/[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*)*$
                            type: string
                          tag:
                            description: Tag is used to override the default image
                              tag.
                            maxLength: 128
                            minLength: 1
                            pattern: ^[\w][\w.-]{0,127}$
                            type: string
                        type: object
                    type: object
                type: object
              encryptionAtRest:
                description: |-
                  EncryptionAtRest defines the configuration to enable encryption at REST
                  This configuration is used by API server to encrypt data before storing it in ETCD.
                  Currently the encryption only enabled for secrets and configmaps.
                properties:
                  providers:
                    default:
                    - aescbc: {}
                    description: Encryption providers
                    items:
                      properties:
                        aescbc:
                          type: object
                        secretbox:
                          type: object
                      type: object
                    maxItems: 1
                    type: array
                type: object
              etcd:
                properties:
                  image:
                    description: Image required for overriding etcd image details.
                    properties:
                      repository:
                        description: Repository is used to override the image repository
                          to pull from.
                        maxLength: 2048
                        minLength: 1
                        pattern: ^((?:[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*|\[(?:[a-fA-F0-9:]+)\])(:[0-9]+)?/)?[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*(/[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*)*$
                        type: string
                      tag:
                        description: Tag is used to override the default image tag.
                        maxLength: 128
                        minLength: 1
                        pattern: ^[\w][\w.-]{0,127}$
                        type: string
                    type: object
                type: object
              extraAPIServerCertSANs:
                description: Extra Subject Alternative Names for the API Server signing
                  cert.
                items:
                  maxLength: 253
                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                  type: string
                maxItems: 100
                type: array
                uniqueItems: true
              globalImageRegistryMirror:
                description: GlobalImageRegistryMirror sets default mirror configuration
                  for all the image registries.
                properties:
                  credentials:
                    description: Credentials and CA certificate for the image registry
                      mirror
                    properties:
                      secretRef:
                        description: |-
                          A reference to the Secret containing the registry credentials and optional CA certificate
                          using the keys `username`, `password` and `ca.crt`.
                          This credentials Secret is not required for some registries, e.g. ECR.
                        properties:
                          name:
                            description: |-
                              Name of the referent.
                              More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                            maxLength: 253
                            minLength: 1
                            type: string
                        required:
                        - name
                        type: object
                    type: object
                  url:
                    description: Registry mirror URL.
                    format: uri
                    pattern: ^https?://
                    type: string
                required:
                - url
                type: object
              imageRegistries:
                items:
                  properties:
                    credentials:
                      description: Credentials and CA certificate for the image registry
                      properties:
                        secretRef:
                          description: |-
                            A reference to the Secret containing the registry credentials and optional CA certificate
                            using the keys `username`, `password` and `ca.crt`.
                            This credentials Secret is not required for some registries, e.g. ECR.
                          properties:
                            name:
                              description: |-
                                Name of the referent.
                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                              maxLength: 253
                              minLength: 1
                              type: string
                          required:
                          - name
                          type: object
                      type: object
                    url:
                      description: Registry URL.
                      format: uri
                      pattern: ^https?://
                      type: string
                  required:
                  - url
                  type: object
                maxItems: 32
                type: array
              kubeProxy:
                description: KubeProxy defines the configuration for kube-proxy.
                properties:
                  mode:
                    description: |-
                      Mode specifies the mode for kube-proxy:
                      - iptables means that kube-proxy is installed in iptables mode.
                      - nftables means that kube-proxy is installed in nftables mode.
                      - disabled means that kube-proxy is disabled.
                    enum:
                    - iptables
                    - nftables
                    - disabled
                    type: string
                    x-kubernetes-validations:
                    - message: Value cannot be changed after cluster creation
                      rule: self == oldSelf
                type: object
              kubernetesImageRepository:
                description: Sets the Kubernetes image repository used for the KubeadmControlPlane.
                maxLength: 2048
                minLength: 1
                pattern: ^((?:[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*|\[(?:[a-fA-F0-9:]+)\])(:[0-9]+)?/)?[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*(/[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*)*$
                type: string
              maxParallelImagePullsPerNode:
                description: |-
                  MaxParallelImagePullsPerNode defines the maximum number of parallel image pulls performed by each kubelet.
                  If not set, the default value of 1 will be used.
                  If set to 0, the maximum number of parallel image pulls will be unlimited.
                format: int32
                minimum: 0
                type: integer
              ntp:
                description: NTP defines the NTP configuration for the cluster.
                properties:
                  servers:
                    description: Servers is a list of NTP servers to use for time
                      synchronization.
                    items:
                      maxLength: 253
                      type: string
                    maxItems: 16
                    minItems: 1
                    type: array
                required:
                - servers
                type: object
              proxy:
                description: HTTPProxy required for providing proxy configuration.
                properties:
                  additionalNo:
                    description: |-
                      AdditionalNo Proxy list that will be added to the automatically calculated
                      values that will apply no_proxy configuration for cluster internal network.
                      Default values: localhost,127.0.0.1,<POD_NETWORK>,<SERVICE_NETWORK>,kubernetes
                        ,kubernetes.default,.svc,.svc.<SERVICE_DOMAIN>
                    items:
                      maxLength: 253
                      minLength: 1
                      type: string
                    maxItems: 128
                    type: array
                  http:
                    description: HTTP proxy value.
                    maxLength: 2048
                    minLength: 1
                    type: string
                  https:
                    description: HTTPS proxy value.
                    maxLength: 2048
                    minLength: 1
                    type: string
                type: object
              users:
                items:
                  description: User defines the input for a generated user in cloud-init.
                  properties:
                    hashedPassword:
                      description: |-
                        HashedPassword is a hashed password for the user, formatted as described
                        by the crypt(5) man page. See your distribution's documentation for
                        instructions to create a hashed password.
                        An empty string is not marshalled, because it is not a valid value.
                      maxLength: 256
                      minLength: 1
                      type: string
                    name:
                      description: Name specifies the user name.
                      maxLength: 256
                      minLength: 1
                      type: string
                    sshAuthorizedKeys:
                      description: |-
                        SSHAuthorizedKeys is a list of public SSH keys to write to the
                        machine. Use the corresponding private SSH keys to authenticate. See SSH
                        documentation for instructions to create a key pair.
                      items:
                        maxLength: 2048
                        minLength: 1
                        type: string
                      maxItems: 100
                      type: array
                    sudo:
                      description: |-
                        Sudo is a sudo user specification, formatted as described in the sudo
                        documentation.
                        An empty string is not marshalled, because it is not a valid value.
                      maxLength: 256
                      minLength: 1
                      type: string
                  required:
                  - name
                  type: object
                maxItems: 32
                type: array
            type: object
      definitionsConflict: false
      name: clusterConfig
    - definitions:
      - from: worker-config
        metadata: {}
        required: false
        schema:
          openAPIV3Schema:
            description: |-
              AWSWorkerNodeConfigSpec defines the desired state of AWSNodeConfig.
              Place any configuration that can be applied to individual Nodes here.
              Otherwise, it should go into the ClusterConfigSpec.
            properties:
              aws:
                properties:
                  additionalSecurityGroups:
                    items:
                      properties:
                        id:
                          description: ID is the id of the security group
                          format: ^sg-[0-9a-f]{8}(?:[0-9a-f]{9})?$
                          minLength: 1
                          type: string
                      type: object
                    maxItems: 32
                    type: array
                  additionalTags:
                    additionalProperties:
                      type: string
                    description: |-
                      AdditionalTags is an optional set of tags to add to an instance,
                      in addition to the ones added by default by the AWS provider.
                    type: object
                  ami:
                    description: |-
                      AMI or AMI Lookup arguments for machine image of a AWS machine.
                      If both AMI ID and AMI lookup arguments are provided then AMI ID takes precedence
                    properties:
                      id:
                        description: AMI ID is the reference to the AMI from which
                          to create the machine instance.
                        format: ^ami-[0-9a-f]{8}(?:[0-9a-f]{9})?$
                        minLength: 1
                        type: string
                      lookup:
                        description: Lookup is the lookup arguments for the AMI.
                        properties:
                          baseOS:
                            description: The name of the base os for image lookup
                            maxLength: 32
                            minLength: 1
                            type: string
                          format:
                            description: |-
                              AMI naming format. Supports substitutions for {{.BaseOS}} and {{.K8sVersion}} with the
                              base OS and kubernetes version.
                            example: capa-ami-{{.BaseOS}}-?{{.K8sVersion}}-*
                            maxLength: 128
                            minLength: 1
                            type: string
                          org:
                            description: The AWS Organization ID to use for image
                              lookup.
                            format: ^o-[0-9a-z]{10,32}$
                            maxLength: 34
                            minLength: 12
                            type: string
                        type: object
                    type: object
                  iamInstanceProfile:
                    default: nodes.cluster-api-provider-aws.sigs.k8s.io
                    description: The IAM instance profile to use for the cluster Machines.
                    maxLength: 128
                    minLength: 1
                    type: string
                  instanceType:
                    default: m5.2xlarge
                    description: The AWS instance type to use for the cluster Machines.
                    maxLength: 32
                    minLength: 1
                    type: string
                  placementGroup:
                    description: PlacementGroup specifies the placement group in which
                      to launch the instance.
                    properties:
                      name:
                        description: Name is the name of the placement group.
                        maxLength: 255
                        minLength: 1
                        type: string
                    required:
                    - name
                    type: object
                  volumes:
                    description: Configuration options for the root and additional
                      storage volume.
                    properties:
                      nonroot:
                        description: Configuration options for non-root storage volumes.
                        items:
                          properties:
                            deviceName:
                              description: Device name
                              type: string
                            encrypted:
                              description: Encrypted is whether the volume should
                                be encrypted or not.
                              type: boolean
                            encryptionKey:
                              description: |-
                                EncryptionKey is the KMS key to use to encrypt the volume. Can be either a KMS key ID or ARN.
                                If Encrypted is set and this is omitted, the default AWS key will be used.
                                The key must already exist and be accessible by the controller.
                              type: string
                            iops:
                              description: IOPS is the number of IOPS requested for
                                the disk. Not applicable to all types.
                              format: int64
                              type: integer
                            size:
                              description: |-
                                Size specifies size (in Gi) of the storage device.
                                Must be greater than the image snapshot size or 8 (whichever is greater).
                              format: int64
                              minimum: 8
                              type: integer
                            throughput:
                              description: Throughput to provision in MiB/s supported
                                for the volume type. Not applicable to all types.
                              format: int64
                              type: integer
                            type:
                              description: Type is the type of the volume (e.g. gp2,
                                io1, etc...).
                              type: string
                          type: object
                        type: array
                      root:
                        description: Configuration options for the root storage volume.
                        properties:
                          deviceName:
                            description: Device name
                            type: string
                          encrypted:
                            description: Encrypted is whether the volume should be
                              encrypted or not.
                            type: boolean
                          encryptionKey:
                            description: |-
                              EncryptionKey is the KMS key to use to encrypt the volume. Can be either a KMS key ID or ARN.
                              If Encrypted is set and this is omitted, the default AWS key will be used.
                              The key must already exist and be accessible by the controller.
                            type: string
                          iops:
                            description: IOPS is the number of IOPS requested for
                              the disk. Not applicable to all types.
                            format: int64
                            type: integer
                          size:
                            description: |-
                              Size specifies size (in Gi) of the storage device.
                              Must be greater than the image snapshot size or 8 (whichever is greater).
                            format: int64
                            minimum: 8
                            type: integer
                          throughput:
                            description: Throughput to provision in MiB/s supported
                              for the volume type. Not applicable to all types.
                            format: int64
                            type: integer
                          type:
                            description: Type is the type of the volume (e.g. gp2,
                              io1, etc...).
                            type: string
                        type: object
                    type: object
                type: object
              nodeRegistration:
                default: {}
                description: NodeRegistration holds fields that relate to registering
                  the new node to the cluster.
                properties:
                  ignorePreflightErrors:
                    default:
                    - SystemVerification
                    description: |-
                      IgnorePreflightErrors specifies a slice of pre-flight errors to be ignored by kubeadm
                      when the current node is registered.
                    items:
                      maxLength: 512
                      minLength: 1
                      type: string
                    maxItems: 50
                    type: array
                type: object
              taints:
                description: Taints specifies the taints the Node API object should
                  be registered with.
                items:
                  description: |-
                    The node this Taint is attached to has the "effect" on
                    any pod that does not tolerate the Taint.
                  properties:
                    effect:
                      default: NoSchedule
                      description: |-
                        The effect of the taint on pods that do not tolerate the taint.
                        Valid effects are NoSchedule, PreferNoSchedule and NoExecute.
                      enum:
                      - NoSchedule
                      - PreferNoSchedule
                      - NoExecute
                      type: string
                    key:
                      description: The taint key to be applied to a node.
                      maxLength: 253
                      type: string
                    value:
                      description: The taint value corresponding to the taint key.
                      maxLength: 63
                      minLength: 1
                      type: string
                  required:
                  - effect
                  - key
                  type: object
                maxItems: 32
                type: array
            type: object
      definitionsConflict: false
      name: workerConfig
- apiVersion: cluster.x-k8s.io/v1beta1
  kind: ClusterClass
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:07Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: docker
    name: docker-quick-start
    namespace: default
    resourceVersion: "2309"
    uid: 1adf57d2-3d62-45c0-b309-4453b9572c7a
  spec:
    controlPlane:
      machineHealthCheck:
        unhealthyConditions:
        - status: Unknown
          timeout: 5m0s
          type: Ready
        - status: "False"
          timeout: 5m0s
          type: Ready
      machineInfrastructure:
        ref:
          apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
          kind: DockerMachineTemplate
          name: docker-quick-start-control-plane
          namespace: default
      metadata: {}
      ref:
        apiVersion: controlplane.cluster.x-k8s.io/v1beta1
        kind: KubeadmControlPlaneTemplate
        name: docker-quick-start-control-plane
        namespace: default
    infrastructure:
      ref:
        apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
        kind: DockerClusterTemplate
        name: docker-quick-start-cluster
        namespace: default
    patches:
    - external:
        discoverVariablesExtension: dockerclusterconfigvars-dv.cluster-api-runtime-extensions-nutanix
        generateExtension: dockerclusterv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      name: cluster-config
    - external:
        discoverVariablesExtension: dockerworkerconfigvars-dv.cluster-api-runtime-extensions-nutanix
        generateExtension: dockerworkerv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      name: worker-config
    workers:
      machineDeployments:
      - class: default-worker
        machineHealthCheck:
          unhealthyConditions:
          - status: Unknown
            timeout: 5m0s
            type: Ready
          - status: "False"
            timeout: 5m0s
            type: Ready
        template:
          bootstrap:
            ref:
              apiVersion: bootstrap.cluster.x-k8s.io/v1beta1
              kind: KubeadmConfigTemplate
              name: docker-quick-start-default-worker-bootstraptemplate
              namespace: default
          infrastructure:
            ref:
              apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
              kind: DockerMachineTemplate
              name: docker-quick-start-default-worker-machinetemplate
              namespace: default
          metadata: {}
  status:
    conditions:
    - lastTransitionTime: "2025-10-13T20:50:08Z"
      status: "True"
      type: RefVersionsUpToDate
    - lastTransitionTime: "2025-10-13T20:50:13Z"
      status: "True"
      type: VariablesReconciled
    observedGeneration: 1
    v1beta2:
      conditions:
      - lastTransitionTime: "2025-10-13T20:50:08Z"
        message: ""
        observedGeneration: 1
        reason: RefVersionsUpToDate
        status: "True"
        type: RefVersionsUpToDate
      - lastTransitionTime: "2025-10-13T20:50:13Z"
        message: ""
        observedGeneration: 1
        reason: VariablesReady
        status: "True"
        type: VariablesReady
      - lastTransitionTime: "2025-10-13T20:50:07Z"
        message: ""
        observedGeneration: 1
        reason: NotPaused
        status: "False"
        type: Paused
    variables:
    - definitions:
      - from: cluster-config
        metadata: {}
        required: true
        schema:
          openAPIV3Schema:
            description: DockerClusterConfigSpec defines the desired state of DockerClusterConfig.
            properties:
              addons:
                properties:
                  ccm:
                    description: CCM tells us to enable or disable the cloud provider
                      interface.
                    properties:
                      credentials:
                        description: A reference to the Secret for credential information
                          for the target Prism Central instance
                        properties:
                          secretRef:
                            description: A reference to the Secret containing the
                              credentials used by the CCM provider.
                            properties:
                              name:
                                description: |-
                                  Name of the referent.
                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                maxLength: 253
                                minLength: 1
                                type: string
                            required:
                            - name
                            type: object
                        required:
                        - secretRef
                        type: object
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy the CCM to the
                          workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                    type: object
                  clusterAutoscaler:
                    description: ClusterAutoscaler tells us to enable or disable the
                      cluster-autoscaler addon.
                    properties:
                      strategy:
                        default: HelmAddon
                        description: |-
                          Addon strategy used to deploy cluster-autoscaler to the management cluster
                          targeting the workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                    type: object
                  cni:
                    description: CNI required for providing CNI configuration.
                    properties:
                      provider:
                        description: CNI provider to deploy.
                        enum:
                        - Calico
                        - Cilium
                        type: string
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy the CNI provider
                          to the workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                      values:
                        description: Values contains the helm values for the CNI when
                          HelmAddon is the strategy.
                        properties:
                          sourceRef:
                            description: |-
                              SourceRef is an object reference to Configmap/Secret inside the same namespace
                              which contains inline YAML representing the values for the Helm chart.
                            properties:
                              kind:
                                description: Kind is the type of resource being referenced,
                                  valid values are ('ConfigMap').
                                enum:
                                - ConfigMap
                                type: string
                              name:
                                description: Name is the name of resource being referenced.
                                maxLength: 253
                                minLength: 1
                                type: string
                            required:
                            - kind
                            - name
                            type: object
                        type: object
                    required:
                    - provider
                    type: object
                  cosi:
                    properties:
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy the COSI controller
                          to the workload cluster.
                        enum:
                        - HelmAddon
                        type: string
                    type: object
                  csi:
                    properties:
                      defaultStorage:
                        properties:
                          provider:
                            description: Name of the CSI Provider for the default
                              storage class.
                            enum:
                            - local-path
                            type: string
                          storageClassConfig:
                            description: Name of the default storage class config
                              the specified default provider.
                            maxLength: 242
                            minLength: 1
                            type: string
                        required:
                        - provider
                        - storageClassConfig
                        type: object
                      providers:
                        properties:
                          local-path:
                            properties:
                              credentials:
                                description: The reference to any secret used by the
                                  CSI Provider.
                                properties:
                                  secretRef:
                                    description: A reference to the Secret containing
                                      the credentials used by the CSI provider.
                                    properties:
                                      name:
                                        description: |-
                                          Name of the referent.
                                          More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        maxLength: 253
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    type: object
                                required:
                                - secretRef
                                type: object
                              storageClassConfigs:
                                additionalProperties:
                                  properties:
                                    allowExpansion:
                                      description: If the storage class should allow
                                        volume expanding
                                      type: boolean
                                    parameters:
                                      additionalProperties:
                                        type: string
                                      description: Parameters passed into the storage
                                        class object.
                                      type: object
                                    reclaimPolicy:
                                      default: Delete
                                      description: PersistentVolumeReclaimPolicy describes
                                        a policy for end-of-life maintenance of persistent
                                        volumes.
                                      enum:
                                      - Delete
                                      - Retain
                                      - Recycle
                                      type: string
                                    volumeBindingMode:
                                      default: WaitForFirstConsumer
                                      description: VolumeBindingMode indicates how
                                        PersistentVolumeClaims should be bound.
                                      enum:
                                      - Immediate
                                      - WaitForFirstConsumer
                                      type: string
                                  type: object
                                description: StorageClassConfigs is a map of storage
                                  class configurations for this CSI provider.
                                type: object
                              strategy:
                                default: HelmAddon
                                description: Addon strategy used to deploy the CSI
                                  provider to the workload cluster.
                                enum:
                                - ClusterResourceSet
                                - HelmAddon
                                type: string
                            required:
                            - storageClassConfigs
                            type: object
                        required:
                        - local-path
                        type: object
                      snapshotController:
                        description: Deploy the CSI snapshot controller and associated
                          CRDs.
                        properties:
                          strategy:
                            default: HelmAddon
                            description: Addon strategy used to deploy the snapshot
                              controller to the workload cluster.
                            enum:
                            - ClusterResourceSet
                            - HelmAddon
                            type: string
                        type: object
                    required:
                    - defaultStorage
                    - providers
                    type: object
                  nfd:
                    description: NFD tells us to enable or disable the node feature
                      discovery addon.
                    properties:
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy Node Feature Discovery
                          (NFD) to the workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                    type: object
                  registry:
                    properties:
                      provider:
                        default: CNCF Distribution
                        description: The OCI registry provider to deploy.
                        enum:
                        - CNCF Distribution
                        type: string
                    required:
                    - provider
                    type: object
                  serviceLoadBalancer:
                    properties:
                      configuration:
                        description: Configuration for the chosen ServiceLoadBalancer
                          provider.
                        properties:
                          addressRanges:
                            description: |-
                              AddressRanges is a list of IPv4 address ranges the
                              provider uses to choose an address for a load balancer.
                            items:
                              description: AddressRange defines an IPv4 range.
                              properties:
                                end:
                                  format: ipv4
                                  type: string
                                start:
                                  format: ipv4
                                  type: string
                              required:
                              - end
                              - start
                              type: object
                            maxItems: 10
                            minItems: 1
                            type: array
                        required:
                        - addressRanges
                        type: object
                      provider:
                        description: |-
                          The LoadBalancer-type Service provider to deploy. Not required in infrastructures where
                          the CCM acts as the provider.
                        enum:
                        - MetalLB
                        type: string
                    required:
                    - provider
                    type: object
                type: object
              controlPlane:
                description: DockerControlPlaneSpec defines the desired state of the
                  control plane for a Docker cluster.
                properties:
                  autoRenewCertificates:
                    description: |-
                      AutoRenewCertificates specifies the configuration for auto-renewing the
                      certificates of the control plane.
                    properties:
                      daysBeforeExpiry:
                        description: |-
                          DaysBeforeExpiry indicates a rollout needs to be performed if the
                          certificates of the control plane will expire within the specified days.
                          Set to 0 to disable automated certificate renewal.
                        format: int32
                        type: integer
                        x-kubernetes-validations:
                        - message: Value must be 0 or at least 7
                          rule: self == 0 || self >= 7
                    required:
                    - daysBeforeExpiry
                    type: object
                  docker:
                    properties:
                      customImage:
                        description: Custom OCI image for control plane and worker
                          Nodes.
                        maxLength: 2048
                        minLength: 1
                        pattern: ^((?:[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*|\[(?:[a-fA-F0-9:]+)\])(:[0-9]+)?/)?[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*(/[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*)*(:[\w][\w.-]{0,127})?(@[A-Za-z][A-Za-z0-9]*(?:[-_+.][A-Za-z][A-Za-z0-9]*)*[:][0-9A-Fa-f]{32,})?$
                        type: string
                    type: object
                  nodeRegistration:
                    default: {}
                    description: NodeRegistration holds fields that relate to registering
                      the new node to the cluster.
                    properties:
                      ignorePreflightErrors:
                        default:
                        - SystemVerification
                        description: |-
                          IgnorePreflightErrors specifies a slice of pre-flight errors to be ignored by kubeadm
                          when the current node is registered.
                        items:
                          maxLength: 512
                          minLength: 1
                          type: string
                        maxItems: 50
                        type: array
                    type: object
                  taints:
                    description: Taints specifies the taints the Node API object should
                      be registered with.
                    items:
                      description: |-
                        The node this Taint is attached to has the "effect" on
                        any pod that does not tolerate the Taint.
                      properties:
                        effect:
                          default: NoSchedule
                          description: |-
                            The effect of the taint on pods that do not tolerate the taint.
                            Valid effects are NoSchedule, PreferNoSchedule and NoExecute.
                          enum:
                          - NoSchedule
                          - PreferNoSchedule
                          - NoExecute
                          type: string
                        key:
                          description: The taint key to be applied to a node.
                          maxLength: 253
                          type: string
                        value:
                          description: The taint value corresponding to the taint
                            key.
                          maxLength: 63
                          minLength: 1
                          type: string
                      required:
                      - effect
                      - key
                      type: object
                    maxItems: 32
                    type: array
                type: object
              dns:
                description: DNS defines the DNS configuration for the cluster.
                properties:
                  coreDNS:
                    description: CoreDNS defines the CoreDNS configuration for the
                      cluster.
                    properties:
                      image:
                        description: |-
                          Image required for overriding Kubernetes DNS image details.
                          If the image version is not specified,
                          the default version based on the cluster's Kubernetes version will be used.
                        properties:
                          repository:
                            description: Repository is used to override the image
                              repository to pull from.
                            maxLength: 2048
                            minLength: 1
                            pattern: ^((?:[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*|\[(?:[a-fA-F0-9:]+)\])(:[0-9]+)?/)?[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*(/[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*)*$
                            type: string
                          tag:
                            description: Tag is used to override the default image
                              tag.
                            maxLength: 128
                            minLength: 1
                            pattern: ^[\w][\w.-]{0,127}$
                            type: string
                        type: object
                    type: object
                type: object
              docker:
                type: object
              encryptionAtRest:
                description: |-
                  EncryptionAtRest defines the configuration to enable encryption at REST
                  This configuration is used by API server to encrypt data before storing it in ETCD.
                  Currently the encryption only enabled for secrets and configmaps.
                properties:
                  providers:
                    default:
                    - aescbc: {}
                    description: Encryption providers
                    items:
                      properties:
                        aescbc:
                          type: object
                        secretbox:
                          type: object
                      type: object
                    maxItems: 1
                    type: array
                type: object
              etcd:
                properties:
                  image:
                    description: Image required for overriding etcd image details.
                    properties:
                      repository:
                        description: Repository is used to override the image repository
                          to pull from.
                        maxLength: 2048
                        minLength: 1
                        pattern: ^((?:[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*|\[(?:[a-fA-F0-9:]+)\])(:[0-9]+)?/)?[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*(/[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*)*$
                        type: string
                      tag:
                        description: Tag is used to override the default image tag.
                        maxLength: 128
                        minLength: 1
                        pattern: ^[\w][\w.-]{0,127}$
                        type: string
                    type: object
                type: object
              extraAPIServerCertSANs:
                description: |-
                  Extra Subject Alternative Names for the API Server signing cert.
                  For the Docker provider, the following default SANs will always be added:
                  - localhost
                  - 127.0.0.1
                  - 0.0.0.0
                  - host.docker.internal
                items:
                  maxLength: 253
                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                  type: string
                maxItems: 100
                type: array
                uniqueItems: true
              globalImageRegistryMirror:
                description: GlobalImageRegistryMirror sets default mirror configuration
                  for all the image registries.
                properties:
                  credentials:
                    description: Credentials and CA certificate for the image registry
                      mirror
                    properties:
                      secretRef:
                        description: |-
                          A reference to the Secret containing the registry credentials and optional CA certificate
                          using the keys `username`, `password` and `ca.crt`.
                          This credentials Secret is not required for some registries, e.g. ECR.
                        properties:
                          name:
                            description: |-
                              Name of the referent.
                              More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                            maxLength: 253
                            minLength: 1
                            type: string
                        required:
                        - name
                        type: object
                    type: object
                  url:
                    description: Registry mirror URL.
                    format: uri
                    pattern: ^https?://
                    type: string
                required:
                - url
                type: object
              imageRegistries:
                items:
                  properties:
                    credentials:
                      description: Credentials and CA certificate for the image registry
                      properties:
                        secretRef:
                          description: |-
                            A reference to the Secret containing the registry credentials and optional CA certificate
                            using the keys `username`, `password` and `ca.crt`.
                            This credentials Secret is not required for some registries, e.g. ECR.
                          properties:
                            name:
                              description: |-
                                Name of the referent.
                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                              maxLength: 253
                              minLength: 1
                              type: string
                          required:
                          - name
                          type: object
                      type: object
                    url:
                      description: Registry URL.
                      format: uri
                      pattern: ^https?://
                      type: string
                  required:
                  - url
                  type: object
                maxItems: 32
                type: array
              kubeProxy:
                description: KubeProxy defines the configuration for kube-proxy.
                properties:
                  mode:
                    description: |-
                      Mode specifies the mode for kube-proxy:
                      - iptables means that kube-proxy is installed in iptables mode.
                      - nftables means that kube-proxy is installed in nftables mode.
                      - disabled means that kube-proxy is disabled.
                    enum:
                    - iptables
                    - nftables
                    - disabled
                    type: string
                    x-kubernetes-validations:
                    - message: Value cannot be changed after cluster creation
                      rule: self == oldSelf
                type: object
              kubernetesImageRepository:
                description: Sets the Kubernetes image repository used for the KubeadmControlPlane.
                maxLength: 2048
                minLength: 1
                pattern: ^((?:[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*|\[(?:[a-fA-F0-9:]+)\])(:[0-9]+)?/)?[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*(/[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*)*$
                type: string
              maxParallelImagePullsPerNode:
                description: |-
                  MaxParallelImagePullsPerNode defines the maximum number of parallel image pulls performed by each kubelet.
                  If not set, the default value of 1 will be used.
                  If set to 0, the maximum number of parallel image pulls will be unlimited.
                format: int32
                minimum: 0
                type: integer
              ntp:
                description: NTP defines the NTP configuration for the cluster.
                properties:
                  servers:
                    description: Servers is a list of NTP servers to use for time
                      synchronization.
                    items:
                      maxLength: 253
                      type: string
                    maxItems: 16
                    minItems: 1
                    type: array
                required:
                - servers
                type: object
              proxy:
                description: HTTPProxy required for providing proxy configuration.
                properties:
                  additionalNo:
                    description: |-
                      AdditionalNo Proxy list that will be added to the automatically calculated
                      values that will apply no_proxy configuration for cluster internal network.
                      Default values: localhost,127.0.0.1,<POD_NETWORK>,<SERVICE_NETWORK>,kubernetes
                        ,kubernetes.default,.svc,.svc.<SERVICE_DOMAIN>
                    items:
                      maxLength: 253
                      minLength: 1
                      type: string
                    maxItems: 128
                    type: array
                  http:
                    description: HTTP proxy value.
                    maxLength: 2048
                    minLength: 1
                    type: string
                  https:
                    description: HTTPS proxy value.
                    maxLength: 2048
                    minLength: 1
                    type: string
                type: object
              users:
                items:
                  description: User defines the input for a generated user in cloud-init.
                  properties:
                    hashedPassword:
                      description: |-
                        HashedPassword is a hashed password for the user, formatted as described
                        by the crypt(5) man page. See your distribution's documentation for
                        instructions to create a hashed password.
                        An empty string is not marshalled, because it is not a valid value.
                      maxLength: 256
                      minLength: 1
                      type: string
                    name:
                      description: Name specifies the user name.
                      maxLength: 256
                      minLength: 1
                      type: string
                    sshAuthorizedKeys:
                      description: |-
                        SSHAuthorizedKeys is a list of public SSH keys to write to the
                        machine. Use the corresponding private SSH keys to authenticate. See SSH
                        documentation for instructions to create a key pair.
                      items:
                        maxLength: 2048
                        minLength: 1
                        type: string
                      maxItems: 100
                      type: array
                    sudo:
                      description: |-
                        Sudo is a sudo user specification, formatted as described in the sudo
                        documentation.
                        An empty string is not marshalled, because it is not a valid value.
                      maxLength: 256
                      minLength: 1
                      type: string
                  required:
                  - name
                  type: object
                maxItems: 32
                type: array
            type: object
      definitionsConflict: false
      name: clusterConfig
    - definitions:
      - from: worker-config
        metadata: {}
        required: false
        schema:
          openAPIV3Schema:
            description: DockerControlPlaneSpec defines the desired state of the control
              plane for a Docker cluster.
            properties:
              autoRenewCertificates:
                description: |-
                  AutoRenewCertificates specifies the configuration for auto-renewing the
                  certificates of the control plane.
                properties:
                  daysBeforeExpiry:
                    description: |-
                      DaysBeforeExpiry indicates a rollout needs to be performed if the
                      certificates of the control plane will expire within the specified days.
                      Set to 0 to disable automated certificate renewal.
                    format: int32
                    type: integer
                    x-kubernetes-validations:
                    - message: Value must be 0 or at least 7
                      rule: self == 0 || self >= 7
                required:
                - daysBeforeExpiry
                type: object
              docker:
                properties:
                  customImage:
                    description: Custom OCI image for control plane and worker Nodes.
                    maxLength: 2048
                    minLength: 1
                    pattern: ^((?:[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*|\[(?:[a-fA-F0-9:]+)\])(:[0-9]+)?/)?[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*(/[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*)*(:[\w][\w.-]{0,127})?(@[A-Za-z][A-Za-z0-9]*(?:[-_+.][A-Za-z][A-Za-z0-9]*)*[:][0-9A-Fa-f]{32,})?$
                    type: string
                type: object
              nodeRegistration:
                default: {}
                description: NodeRegistration holds fields that relate to registering
                  the new node to the cluster.
                properties:
                  ignorePreflightErrors:
                    default:
                    - SystemVerification
                    description: |-
                      IgnorePreflightErrors specifies a slice of pre-flight errors to be ignored by kubeadm
                      when the current node is registered.
                    items:
                      maxLength: 512
                      minLength: 1
                      type: string
                    maxItems: 50
                    type: array
                type: object
              taints:
                description: Taints specifies the taints the Node API object should
                  be registered with.
                items:
                  description: |-
                    The node this Taint is attached to has the "effect" on
                    any pod that does not tolerate the Taint.
                  properties:
                    effect:
                      default: NoSchedule
                      description: |-
                        The effect of the taint on pods that do not tolerate the taint.
                        Valid effects are NoSchedule, PreferNoSchedule and NoExecute.
                      enum:
                      - NoSchedule
                      - PreferNoSchedule
                      - NoExecute
                      type: string
                    key:
                      description: The taint key to be applied to a node.
                      maxLength: 253
                      type: string
                    value:
                      description: The taint value corresponding to the taint key.
                      maxLength: 63
                      minLength: 1
                      type: string
                  required:
                  - effect
                  - key
                  type: object
                maxItems: 32
                type: array
            type: object
      definitionsConflict: false
      name: workerConfig
- apiVersion: cluster.x-k8s.io/v1beta1
  kind: ClusterClass
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:07Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: eks
    name: eks-quick-start
    namespace: default
    resourceVersion: "2307"
    uid: 85c2e49c-aa03-4cfd-8b6b-929a604c052a
  spec:
    controlPlane:
      metadata: {}
      ref:
        apiVersion: controlplane.cluster.x-k8s.io/v1beta2
        kind: AWSManagedControlPlaneTemplate
        name: eks-quick-start-control-plane
        namespace: default
    infrastructure:
      ref:
        apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
        kind: AWSManagedClusterTemplate
        name: eks-quick-start
        namespace: default
    patches:
    - external:
        discoverVariablesExtension: eksclusterconfigvars-dv.cluster-api-runtime-extensions-nutanix
        generateExtension: eksclusterv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      name: cluster-config
    - external:
        discoverVariablesExtension: eksworkerconfigvars-dv.cluster-api-runtime-extensions-nutanix
        generateExtension: eksworkerv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      name: worker-config
    workers:
      machineDeployments:
      - class: default-worker
        template:
          bootstrap:
            ref:
              apiVersion: bootstrap.cluster.x-k8s.io/v1beta2
              kind: NodeadmConfigTemplate
              name: eks-quick-start-worker-configtemplate
              namespace: default
          infrastructure:
            ref:
              apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
              kind: AWSMachineTemplate
              name: eks-quick-start-worker-machinetemplate
              namespace: default
          metadata: {}
  status:
    conditions:
    - lastTransitionTime: "2025-10-13T20:50:08Z"
      status: "True"
      type: RefVersionsUpToDate
    - lastTransitionTime: "2025-10-13T20:50:13Z"
      status: "True"
      type: VariablesReconciled
    observedGeneration: 1
    v1beta2:
      conditions:
      - lastTransitionTime: "2025-10-13T20:50:08Z"
        message: ""
        observedGeneration: 1
        reason: RefVersionsUpToDate
        status: "True"
        type: RefVersionsUpToDate
      - lastTransitionTime: "2025-10-13T20:50:13Z"
        message: ""
        observedGeneration: 1
        reason: VariablesReady
        status: "True"
        type: VariablesReady
      - lastTransitionTime: "2025-10-13T20:50:07Z"
        message: ""
        observedGeneration: 1
        reason: NotPaused
        status: "False"
        type: Paused
    variables:
    - definitions:
      - from: cluster-config
        metadata: {}
        required: true
        schema:
          openAPIV3Schema:
            description: EKSClusterConfigSpec defines the desired state of ClusterConfig.
            properties:
              addons:
                properties:
                  ccm:
                    description: CCM tells us to enable or disable the cloud provider
                      interface.
                    properties:
                      credentials:
                        description: A reference to the Secret for credential information
                          for the target Prism Central instance
                        properties:
                          secretRef:
                            description: A reference to the Secret containing the
                              credentials used by the CCM provider.
                            properties:
                              name:
                                description: |-
                                  Name of the referent.
                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                maxLength: 253
                                minLength: 1
                                type: string
                            required:
                            - name
                            type: object
                        required:
                        - secretRef
                        type: object
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy the CCM to the
                          workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                    type: object
                  clusterAutoscaler:
                    description: ClusterAutoscaler tells us to enable or disable the
                      cluster-autoscaler addon.
                    properties:
                      strategy:
                        default: HelmAddon
                        description: |-
                          Addon strategy used to deploy cluster-autoscaler to the management cluster
                          targeting the workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                    type: object
                  cni:
                    description: CNI required for providing CNI configuration.
                    properties:
                      provider:
                        description: CNI provider to deploy.
                        enum:
                        - Calico
                        - Cilium
                        type: string
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy the CNI provider
                          to the workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                      values:
                        description: Values contains the helm values for the CNI when
                          HelmAddon is the strategy.
                        properties:
                          sourceRef:
                            description: |-
                              SourceRef is an object reference to Configmap/Secret inside the same namespace
                              which contains inline YAML representing the values for the Helm chart.
                            properties:
                              kind:
                                description: Kind is the type of resource being referenced,
                                  valid values are ('ConfigMap').
                                enum:
                                - ConfigMap
                                type: string
                              name:
                                description: Name is the name of resource being referenced.
                                maxLength: 253
                                minLength: 1
                                type: string
                            required:
                            - kind
                            - name
                            type: object
                        type: object
                    required:
                    - provider
                    type: object
                  csi:
                    properties:
                      defaultStorage:
                        properties:
                          provider:
                            description: Name of the CSI Provider for the default
                              storage class.
                            enum:
                            - aws-ebs
                            - nutanix
                            - local-path
                            type: string
                          storageClassConfig:
                            description: Name of the default storage class config
                              the specified default provider.
                            maxLength: 242
                            minLength: 1
                            type: string
                        required:
                        - provider
                        - storageClassConfig
                        type: object
                      providers:
                        properties:
                          aws-ebs:
                            properties:
                              credentials:
                                description: The reference to any secret used by the
                                  CSI Provider.
                                properties:
                                  secretRef:
                                    description: A reference to the Secret containing
                                      the credentials used by the CSI provider.
                                    properties:
                                      name:
                                        description: |-
                                          Name of the referent.
                                          More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        maxLength: 253
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    type: object
                                required:
                                - secretRef
                                type: object
                              storageClassConfigs:
                                additionalProperties:
                                  properties:
                                    allowExpansion:
                                      description: If the storage class should allow
                                        volume expanding
                                      type: boolean
                                    parameters:
                                      additionalProperties:
                                        type: string
                                      description: Parameters passed into the storage
                                        class object.
                                      type: object
                                    reclaimPolicy:
                                      default: Delete
                                      description: PersistentVolumeReclaimPolicy describes
                                        a policy for end-of-life maintenance of persistent
                                        volumes.
                                      enum:
                                      - Delete
                                      - Retain
                                      - Recycle
                                      type: string
                                    volumeBindingMode:
                                      default: WaitForFirstConsumer
                                      description: VolumeBindingMode indicates how
                                        PersistentVolumeClaims should be bound.
                                      enum:
                                      - Immediate
                                      - WaitForFirstConsumer
                                      type: string
                                  type: object
                                description: StorageClassConfigs is a map of storage
                                  class configurations for this CSI provider.
                                type: object
                              strategy:
                                default: HelmAddon
                                description: Addon strategy used to deploy the CSI
                                  provider to the workload cluster.
                                enum:
                                - ClusterResourceSet
                                - HelmAddon
                                type: string
                            required:
                            - storageClassConfigs
                            type: object
                        required:
                        - aws-ebs
                        type: object
                      snapshotController:
                        description: Deploy the CSI snapshot controller and associated
                          CRDs.
                        properties:
                          strategy:
                            default: HelmAddon
                            description: Addon strategy used to deploy the snapshot
                              controller to the workload cluster.
                            enum:
                            - ClusterResourceSet
                            - HelmAddon
                            type: string
                        type: object
                    required:
                    - defaultStorage
                    - providers
                    type: object
                  nfd:
                    description: NFD tells us to enable or disable the node feature
                      discovery addon.
                    properties:
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy Node Feature Discovery
                          (NFD) to the workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                    type: object
                  registry:
                    properties:
                      provider:
                        default: CNCF Distribution
                        description: The OCI registry provider to deploy.
                        enum:
                        - CNCF Distribution
                        type: string
                    required:
                    - provider
                    type: object
                  serviceLoadBalancer:
                    properties:
                      configuration:
                        description: Configuration for the chosen ServiceLoadBalancer
                          provider.
                        properties:
                          addressRanges:
                            description: |-
                              AddressRanges is a list of IPv4 address ranges the
                              provider uses to choose an address for a load balancer.
                            items:
                              description: AddressRange defines an IPv4 range.
                              properties:
                                end:
                                  format: ipv4
                                  type: string
                                start:
                                  format: ipv4
                                  type: string
                              required:
                              - end
                              - start
                              type: object
                            maxItems: 10
                            minItems: 1
                            type: array
                        required:
                        - addressRanges
                        type: object
                      provider:
                        description: |-
                          The LoadBalancer-type Service provider to deploy. Not required in infrastructures where
                          the CCM acts as the provider.
                        enum:
                        - MetalLB
                        type: string
                    required:
                    - provider
                    type: object
                type: object
              eks:
                description: EKS cluster configuration.
                properties:
                  additionalTags:
                    additionalProperties:
                      type: string
                    description: |-
                      AdditionalTags is an optional set of tags to add to an instance,
                      in addition to the ones added by default by the AWS provider.
                    type: object
                  identityRef:
                    description: |-
                      IdentityRef is a reference to an identity to be used when reconciling the managed control plane.
                      If no identity is specified, the default identity for this controller will be used.
                    properties:
                      kind:
                        description: Kind of the identity.
                        enum:
                        - AWSClusterControllerIdentity
                        - AWSClusterRoleIdentity
                        - AWSClusterStaticIdentity
                        type: string
                      name:
                        description: Name of the identity.
                        minLength: 1
                        type: string
                    required:
                    - kind
                    - name
                    type: object
                  network:
                    description: AWS network configuration.
                    properties:
                      subnets:
                        description: AWS Subnet configuration.
                        items:
                          description: SubnetSpec configures an AWS Subnet.
                          properties:
                            id:
                              description: Existing Subnet ID to use for the cluster.
                              format: ^subnet-[0-9a-f]{8}(?:[0-9a-f]{9})?$
                              type: string
                          required:
                          - id
                          type: object
                        maxItems: 10
                        type: array
                      vpc:
                        properties:
                          id:
                            description: Existing VPC ID to use for the cluster.
                            format: ^vpc-[0-9a-f]{8}(?:[0-9a-f]{9})?$
                            type: string
                        required:
                        - id
                        type: object
                    type: object
                  region:
                    description: AWS region to create cluster in.
                    maxLength: 16
                    minLength: 4
                    type: string
                type: object
              globalImageRegistryMirror:
                description: GlobalImageRegistryMirror sets default mirror configuration
                  for all the image registries.
                properties:
                  credentials:
                    description: Credentials and CA certificate for the image registry
                      mirror
                    properties:
                      secretRef:
                        description: |-
                          A reference to the Secret containing the registry credentials and optional CA certificate
                          using the keys `username`, `password` and `ca.crt`.
                          This credentials Secret is not required for some registries, e.g. ECR.
                        properties:
                          name:
                            description: |-
                              Name of the referent.
                              More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                            maxLength: 253
                            minLength: 1
                            type: string
                        required:
                        - name
                        type: object
                    type: object
                  url:
                    description: Registry mirror URL.
                    format: uri
                    pattern: ^https?://
                    type: string
                required:
                - url
                type: object
              imageRegistries:
                items:
                  properties:
                    credentials:
                      description: Credentials and CA certificate for the image registry
                      properties:
                        secretRef:
                          description: |-
                            A reference to the Secret containing the registry credentials and optional CA certificate
                            using the keys `username`, `password` and `ca.crt`.
                            This credentials Secret is not required for some registries, e.g. ECR.
                          properties:
                            name:
                              description: |-
                                Name of the referent.
                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                              maxLength: 253
                              minLength: 1
                              type: string
                          required:
                          - name
                          type: object
                      type: object
                    url:
                      description: Registry URL.
                      format: uri
                      pattern: ^https?://
                      type: string
                  required:
                  - url
                  type: object
                maxItems: 32
                type: array
              kubeProxy:
                description: KubeProxy defines the configuration for kube-proxy.
                properties:
                  mode:
                    description: 'Mode specifies the mode for kube-proxy in EKS: -
                      disabled means that kube-proxy is disabled (only supported mode
                      for EKS).'
                    enum:
                    - disabled
                    type: string
                    x-kubernetes-validations:
                    - message: Value cannot be changed after cluster creation
                      rule: self == oldSelf
                type: object
              ntp:
                description: NTP defines the NTP configuration for the cluster.
                properties:
                  servers:
                    description: Servers is a list of NTP servers to use for time
                      synchronization.
                    items:
                      maxLength: 253
                      type: string
                    maxItems: 16
                    minItems: 1
                    type: array
                required:
                - servers
                type: object
              proxy:
                description: HTTPProxy required for providing proxy configuration.
                properties:
                  additionalNo:
                    description: |-
                      AdditionalNo Proxy list that will be added to the automatically calculated
                      values that will apply no_proxy configuration for cluster internal network.
                      Default values: localhost,127.0.0.1,<POD_NETWORK>,<SERVICE_NETWORK>,kubernetes
                        ,kubernetes.default,.svc,.svc.<SERVICE_DOMAIN>
                    items:
                      maxLength: 253
                      minLength: 1
                      type: string
                    maxItems: 128
                    type: array
                  http:
                    description: HTTP proxy value.
                    maxLength: 2048
                    minLength: 1
                    type: string
                  https:
                    description: HTTPS proxy value.
                    maxLength: 2048
                    minLength: 1
                    type: string
                type: object
              users:
                items:
                  description: User defines the input for a generated user in cloud-init.
                  properties:
                    hashedPassword:
                      description: |-
                        HashedPassword is a hashed password for the user, formatted as described
                        by the crypt(5) man page. See your distribution's documentation for
                        instructions to create a hashed password.
                        An empty string is not marshalled, because it is not a valid value.
                      maxLength: 256
                      minLength: 1
                      type: string
                    name:
                      description: Name specifies the user name.
                      maxLength: 256
                      minLength: 1
                      type: string
                    sshAuthorizedKeys:
                      description: |-
                        SSHAuthorizedKeys is a list of public SSH keys to write to the
                        machine. Use the corresponding private SSH keys to authenticate. See SSH
                        documentation for instructions to create a key pair.
                      items:
                        maxLength: 2048
                        minLength: 1
                        type: string
                      maxItems: 100
                      type: array
                    sudo:
                      description: |-
                        Sudo is a sudo user specification, formatted as described in the sudo
                        documentation.
                        An empty string is not marshalled, because it is not a valid value.
                      maxLength: 256
                      minLength: 1
                      type: string
                  required:
                  - name
                  type: object
                maxItems: 32
                type: array
            type: object
      definitionsConflict: false
      name: clusterConfig
    - definitions:
      - from: worker-config
        metadata: {}
        required: false
        schema:
          openAPIV3Schema:
            description: |-
              EKSWorkerNodeConfigSpec defines the desired state of EKSNodeConfig.
              Place any configuration that can be applied to individual Nodes here.
              Otherwise, it should go into the ClusterConfigSpec.
            properties:
              eks:
                properties:
                  additionalSecurityGroups:
                    items:
                      properties:
                        id:
                          description: ID is the id of the security group
                          format: ^sg-[0-9a-f]{8}(?:[0-9a-f]{9})?$
                          minLength: 1
                          type: string
                      type: object
                    maxItems: 32
                    type: array
                  additionalTags:
                    additionalProperties:
                      type: string
                    description: |-
                      AdditionalTags is an optional set of tags to add to an instance,
                      in addition to the ones added by default by the AWS provider.
                    type: object
                  ami:
                    description: |-
                      AMI or AMI Lookup arguments for machine image of a AWS machine.
                      If both AMI ID and AMI lookup arguments are provided then AMI ID takes precedence
                    properties:
                      id:
                        description: AMI ID is the reference to the AMI from which
                          to create the machine instance.
                        format: ^ami-[0-9a-f]{8}(?:[0-9a-f]{9})?$
                        minLength: 1
                        type: string
                      lookup:
                        description: Lookup is the lookup arguments for the AMI.
                        properties:
                          baseOS:
                            description: The name of the base os for image lookup
                            maxLength: 32
                            minLength: 1
                            type: string
                          format:
                            description: |-
                              AMI naming format. Supports substitutions for {{.BaseOS}} and {{.K8sVersion}} with the
                              base OS and kubernetes version.
                            example: capa-ami-{{.BaseOS}}-?{{.K8sVersion}}-*
                            maxLength: 128
                            minLength: 1
                            type: string
                          org:
                            description: The AWS Organization ID to use for image
                              lookup.
                            format: ^o-[0-9a-z]{10,32}$
                            maxLength: 34
                            minLength: 12
                            type: string
                        type: object
                    type: object
                  iamInstanceProfile:
                    default: nodes.cluster-api-provider-aws.sigs.k8s.io
                    description: The IAM instance profile to use for the cluster Machines.
                    maxLength: 128
                    minLength: 1
                    type: string
                  instanceType:
                    default: m5.2xlarge
                    description: The AWS instance type to use for the cluster Machines.
                    maxLength: 32
                    minLength: 1
                    type: string
                  placementGroup:
                    description: PlacementGroup specifies the placement group in which
                      to launch the instance.
                    properties:
                      name:
                        description: Name is the name of the placement group.
                        maxLength: 255
                        minLength: 1
                        type: string
                    required:
                    - name
                    type: object
                  volumes:
                    description: Configuration options for the root and additional
                      storage volume.
                    properties:
                      nonroot:
                        description: Configuration options for non-root storage volumes.
                        items:
                          properties:
                            deviceName:
                              description: Device name
                              type: string
                            encrypted:
                              description: Encrypted is whether the volume should
                                be encrypted or not.
                              type: boolean
                            encryptionKey:
                              description: |-
                                EncryptionKey is the KMS key to use to encrypt the volume. Can be either a KMS key ID or ARN.
                                If Encrypted is set and this is omitted, the default AWS key will be used.
                                The key must already exist and be accessible by the controller.
                              type: string
                            iops:
                              description: IOPS is the number of IOPS requested for
                                the disk. Not applicable to all types.
                              format: int64
                              type: integer
                            size:
                              description: |-
                                Size specifies size (in Gi) of the storage device.
                                Must be greater than the image snapshot size or 8 (whichever is greater).
                              format: int64
                              minimum: 8
                              type: integer
                            throughput:
                              description: Throughput to provision in MiB/s supported
                                for the volume type. Not applicable to all types.
                              format: int64
                              type: integer
                            type:
                              description: Type is the type of the volume (e.g. gp2,
                                io1, etc...).
                              type: string
                          type: object
                        type: array
                      root:
                        description: Configuration options for the root storage volume.
                        properties:
                          deviceName:
                            description: Device name
                            type: string
                          encrypted:
                            description: Encrypted is whether the volume should be
                              encrypted or not.
                            type: boolean
                          encryptionKey:
                            description: |-
                              EncryptionKey is the KMS key to use to encrypt the volume. Can be either a KMS key ID or ARN.
                              If Encrypted is set and this is omitted, the default AWS key will be used.
                              The key must already exist and be accessible by the controller.
                            type: string
                          iops:
                            description: IOPS is the number of IOPS requested for
                              the disk. Not applicable to all types.
                            format: int64
                            type: integer
                          size:
                            description: |-
                              Size specifies size (in Gi) of the storage device.
                              Must be greater than the image snapshot size or 8 (whichever is greater).
                            format: int64
                            minimum: 8
                            type: integer
                          throughput:
                            description: Throughput to provision in MiB/s supported
                              for the volume type. Not applicable to all types.
                            format: int64
                            type: integer
                          type:
                            description: Type is the type of the volume (e.g. gp2,
                              io1, etc...).
                            type: string
                        type: object
                    type: object
                type: object
              taints:
                description: Taints specifies the taints the Node API object should
                  be registered with.
                items:
                  description: |-
                    The node this Taint is attached to has the "effect" on
                    any pod that does not tolerate the Taint.
                  properties:
                    effect:
                      default: NoSchedule
                      description: |-
                        The effect of the taint on pods that do not tolerate the taint.
                        Valid effects are NoSchedule, PreferNoSchedule and NoExecute.
                      enum:
                      - NoSchedule
                      - PreferNoSchedule
                      - NoExecute
                      type: string
                    key:
                      description: The taint key to be applied to a node.
                      maxLength: 253
                      type: string
                    value:
                      description: The taint value corresponding to the taint key.
                      maxLength: 63
                      minLength: 1
                      type: string
                  required:
                  - effect
                  - key
                  type: object
                maxItems: 32
                type: array
            type: object
      definitionsConflict: false
      name: workerConfig
- apiVersion: cluster.x-k8s.io/v1beta1
  kind: ClusterClass
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:07Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: nutanix
    name: nutanix-quick-start
    namespace: default
    resourceVersion: "2311"
    uid: 29120efe-8866-4d49-bc1c-0ec2dce8096b
  spec:
    controlPlane:
      machineHealthCheck:
        maxUnhealthy: 40%
        nodeStartupTimeout: 10m0s
        unhealthyConditions:
        - status: "False"
          timeout: 5m0s
          type: Ready
        - status: Unknown
          timeout: 5m0s
          type: Ready
        - status: "True"
          timeout: 5m0s
          type: MemoryPressure
        - status: "True"
          timeout: 5m0s
          type: DiskPressure
        - status: "True"
          timeout: 5m0s
          type: PIDPressure
        - status: "True"
          timeout: 5m0s
          type: NetworkUnavailable
      machineInfrastructure:
        ref:
          apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
          kind: NutanixMachineTemplate
          name: nutanix-quick-start-cp-nmt
          namespace: default
      metadata: {}
      ref:
        apiVersion: controlplane.cluster.x-k8s.io/v1beta1
        kind: KubeadmControlPlaneTemplate
        name: nutanix-quick-start-kcpt
        namespace: default
    infrastructure:
      ref:
        apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
        kind: NutanixClusterTemplate
        name: nutanix-quick-start-nct
        namespace: default
    patches:
    - external:
        discoverVariablesExtension: nutanixclusterconfigvars-dv.cluster-api-runtime-extensions-nutanix
        generateExtension: nutanixclusterv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      name: cluster-config
    - external:
        discoverVariablesExtension: nutanixworkerconfigvars-dv.cluster-api-runtime-extensions-nutanix
        generateExtension: nutanixworkerv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      name: worker-config
    workers:
      machineDeployments:
      - class: default-worker
        machineHealthCheck:
          maxUnhealthy: 40%
          nodeStartupTimeout: 10m0s
          unhealthyConditions:
          - status: "False"
            timeout: 5m0s
            type: Ready
          - status: Unknown
            timeout: 5m0s
            type: Ready
          - status: "True"
            timeout: 5m0s
            type: MemoryPressure
          - status: "True"
            timeout: 5m0s
            type: DiskPressure
          - status: "True"
            timeout: 5m0s
            type: PIDPressure
          - status: "True"
            timeout: 5m0s
            type: NetworkUnavailable
        template:
          bootstrap:
            ref:
              apiVersion: bootstrap.cluster.x-k8s.io/v1beta1
              kind: KubeadmConfigTemplate
              name: nutanix-quick-start-kcfg-0
              namespace: default
          infrastructure:
            ref:
              apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
              kind: NutanixMachineTemplate
              name: nutanix-quick-start-md-nmt
              namespace: default
          metadata: {}
  status:
    conditions:
    - lastTransitionTime: "2025-10-13T20:50:08Z"
      status: "True"
      type: RefVersionsUpToDate
    - lastTransitionTime: "2025-10-13T20:50:13Z"
      status: "True"
      type: VariablesReconciled
    observedGeneration: 1
    v1beta2:
      conditions:
      - lastTransitionTime: "2025-10-13T20:50:08Z"
        message: ""
        observedGeneration: 1
        reason: RefVersionsUpToDate
        status: "True"
        type: RefVersionsUpToDate
      - lastTransitionTime: "2025-10-13T20:50:13Z"
        message: ""
        observedGeneration: 1
        reason: VariablesReady
        status: "True"
        type: VariablesReady
      - lastTransitionTime: "2025-10-13T20:50:07Z"
        message: ""
        observedGeneration: 1
        reason: NotPaused
        status: "False"
        type: Paused
    variables:
    - definitions:
      - from: cluster-config
        metadata: {}
        required: true
        schema:
          openAPIV3Schema:
            description: NutanixClusterConfigSpec defines the desired state of NutanixClusterConfig.
            properties:
              addons:
                properties:
                  ccm:
                    description: CCM tells us to enable or disable the cloud provider
                      interface.
                    properties:
                      credentials:
                        description: A reference to the Secret for credential information
                          for the target Prism Central instance
                        properties:
                          secretRef:
                            description: A reference to the Secret containing the
                              credentials used by the CCM provider.
                            properties:
                              name:
                                description: |-
                                  Name of the referent.
                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                maxLength: 253
                                minLength: 1
                                type: string
                            required:
                            - name
                            type: object
                        required:
                        - secretRef
                        type: object
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy the CCM to the
                          workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                    type: object
                  clusterAutoscaler:
                    description: ClusterAutoscaler tells us to enable or disable the
                      cluster-autoscaler addon.
                    properties:
                      strategy:
                        default: HelmAddon
                        description: |-
                          Addon strategy used to deploy cluster-autoscaler to the management cluster
                          targeting the workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                    type: object
                  cni:
                    description: CNI required for providing CNI configuration.
                    properties:
                      provider:
                        description: CNI provider to deploy.
                        enum:
                        - Calico
                        - Cilium
                        type: string
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy the CNI provider
                          to the workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                      values:
                        description: Values contains the helm values for the CNI when
                          HelmAddon is the strategy.
                        properties:
                          sourceRef:
                            description: |-
                              SourceRef is an object reference to Configmap/Secret inside the same namespace
                              which contains inline YAML representing the values for the Helm chart.
                            properties:
                              kind:
                                description: Kind is the type of resource being referenced,
                                  valid values are ('ConfigMap').
                                enum:
                                - ConfigMap
                                type: string
                              name:
                                description: Name is the name of resource being referenced.
                                maxLength: 253
                                minLength: 1
                                type: string
                            required:
                            - kind
                            - name
                            type: object
                        type: object
                    required:
                    - provider
                    type: object
                  cosi:
                    properties:
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy the COSI controller
                          to the workload cluster.
                        enum:
                        - HelmAddon
                        type: string
                    type: object
                  csi:
                    properties:
                      defaultStorage:
                        properties:
                          provider:
                            description: Name of the CSI Provider for the default
                              storage class.
                            enum:
                            - nutanix
                            type: string
                          storageClassConfig:
                            description: Name of the default storage class config
                              the specified default provider.
                            maxLength: 242
                            minLength: 1
                            type: string
                        required:
                        - provider
                        - storageClassConfig
                        type: object
                      providers:
                        properties:
                          nutanix:
                            properties:
                              credentials:
                                description: The reference to any secret used by the
                                  CSI Provider.
                                properties:
                                  secretRef:
                                    description: A reference to the Secret containing
                                      the credentials used by the CSI provider.
                                    properties:
                                      name:
                                        description: |-
                                          Name of the referent.
                                          More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        maxLength: 253
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    type: object
                                required:
                                - secretRef
                                type: object
                              storageClassConfigs:
                                additionalProperties:
                                  properties:
                                    allowExpansion:
                                      description: If the storage class should allow
                                        volume expanding
                                      type: boolean
                                    parameters:
                                      additionalProperties:
                                        type: string
                                      description: Parameters passed into the storage
                                        class object.
                                      type: object
                                    reclaimPolicy:
                                      default: Delete
                                      description: PersistentVolumeReclaimPolicy describes
                                        a policy for end-of-life maintenance of persistent
                                        volumes.
                                      enum:
                                      - Delete
                                      - Retain
                                      - Recycle
                                      type: string
                                    volumeBindingMode:
                                      default: WaitForFirstConsumer
                                      description: VolumeBindingMode indicates how
                                        PersistentVolumeClaims should be bound.
                                      enum:
                                      - Immediate
                                      - WaitForFirstConsumer
                                      type: string
                                  type: object
                                description: StorageClassConfigs is a map of storage
                                  class configurations for this CSI provider.
                                type: object
                              strategy:
                                default: HelmAddon
                                description: Addon strategy used to deploy the CSI
                                  provider to the workload cluster.
                                enum:
                                - ClusterResourceSet
                                - HelmAddon
                                type: string
                            required:
                            - storageClassConfigs
                            type: object
                        required:
                        - nutanix
                        type: object
                      snapshotController:
                        description: Deploy the CSI snapshot controller and associated
                          CRDs.
                        properties:
                          strategy:
                            default: HelmAddon
                            description: Addon strategy used to deploy the snapshot
                              controller to the workload cluster.
                            enum:
                            - ClusterResourceSet
                            - HelmAddon
                            type: string
                        type: object
                    required:
                    - defaultStorage
                    - providers
                    type: object
                  nfd:
                    description: NFD tells us to enable or disable the node feature
                      discovery addon.
                    properties:
                      strategy:
                        default: HelmAddon
                        description: Addon strategy used to deploy Node Feature Discovery
                          (NFD) to the workload cluster.
                        enum:
                        - ClusterResourceSet
                        - HelmAddon
                        type: string
                    type: object
                  registry:
                    properties:
                      provider:
                        default: CNCF Distribution
                        description: The OCI registry provider to deploy.
                        enum:
                        - CNCF Distribution
                        type: string
                    required:
                    - provider
                    type: object
                  serviceLoadBalancer:
                    properties:
                      configuration:
                        description: Configuration for the chosen ServiceLoadBalancer
                          provider.
                        properties:
                          addressRanges:
                            description: |-
                              AddressRanges is a list of IPv4 address ranges the
                              provider uses to choose an address for a load balancer.
                            items:
                              description: AddressRange defines an IPv4 range.
                              properties:
                                end:
                                  format: ipv4
                                  type: string
                                start:
                                  format: ipv4
                                  type: string
                              required:
                              - end
                              - start
                              type: object
                            maxItems: 10
                            minItems: 1
                            type: array
                        required:
                        - addressRanges
                        type: object
                      provider:
                        description: |-
                          The LoadBalancer-type Service provider to deploy. Not required in infrastructures where
                          the CCM acts as the provider.
                        enum:
                        - MetalLB
                        type: string
                    required:
                    - provider
                    type: object
                type: object
              controlPlane:
                description: NutanixControlPlaneSpec defines the desired state of
                  the control plane for a Nutanix cluster.
                properties:
                  autoRenewCertificates:
                    description: |-
                      AutoRenewCertificates specifies the configuration for auto-renewing the
                      certificates of the control plane.
                    properties:
                      daysBeforeExpiry:
                        description: |-
                          DaysBeforeExpiry indicates a rollout needs to be performed if the
                          certificates of the control plane will expire within the specified days.
                          Set to 0 to disable automated certificate renewal.
                        format: int32
                        type: integer
                        x-kubernetes-validations:
                        - message: Value must be 0 or at least 7
                          rule: self == 0 || self >= 7
                    required:
                    - daysBeforeExpiry
                    type: object
                  nodeRegistration:
                    default: {}
                    description: NodeRegistration holds fields that relate to registering
                      the new node to the cluster.
                    properties:
                      ignorePreflightErrors:
                        default:
                        - SystemVerification
                        description: |-
                          IgnorePreflightErrors specifies a slice of pre-flight errors to be ignored by kubeadm
                          when the current node is registered.
                        items:
                          maxLength: 512
                          minLength: 1
                          type: string
                        maxItems: 50
                        type: array
                    type: object
                  nutanix:
                    properties:
                      failureDomains:
                        description: |-
                          failureDomains specifies a list of NutanixFailureDomains (by names)
                          that the cluster uses to deploy its control-plane machines.
                        items:
                          maxLength: 253
                          type: string
                        maxItems: 5
                        type: array
                      machineDetails:
                        properties:
                          additionalCategories:
                            description: |-
                              List of categories that need to be added to the machines. Categories must already
                              exist in Prism Central. One category key can have more than one value.
                            items:
                              properties:
                                key:
                                  description: key is the Key of category in PC.
                                  type: string
                                value:
                                  description: value is the category value linked
                                    to the category key in PC
                                  type: string
                              type: object
                            maxItems: 32
                            type: array
                          bootType:
                            description: Defines the boot type of the virtual machine.
                              Only supports UEFI and Legacy
                            enum:
                            - legacy
                            - uefi
                            type: string
                          cluster:
                            description: |-
                              cluster identifies the Prism Element in which the machine will be created.
                              The identifier (uuid or name) can be obtained from the console or API.
                            properties:
                              name:
                                description: name is the resource name in the PC
                                type: string
                              type:
                                description: Type is the identifier type to use for
                                  this resource.
                                enum:
                                - uuid
                                - name
                                type: string
                              uuid:
                                description: uuid is the UUID of the resource in the
                                  PC.
                                type: string
                            required:
                            - type
                            type: object
                          gpus:
                            description: List of GPU devices that need to be added
                              to the machines.
                            items:
                              properties:
                                deviceID:
                                  description: deviceID is the id of the GPU entity.
                                  format: int64
                                  type: integer
                                name:
                                  description: name is the GPU name
                                  type: string
                                type:
                                  description: Type is the identifier type to use
                                    for this resource.
                                  enum:
                                  - deviceID
                                  - name
                                  type: string
                              required:
                              - type
                              type: object
                            maxItems: 32
                            type: array
                          image:
                            description: |-
                              image identifies the image uploaded to Prism Central (PC). The identifier
                              (uuid or name) can be obtained from the console or API.
                            properties:
                              name:
                                description: name is the resource name in the PC
                                type: string
                              type:
                                description: Type is the identifier type to use for
                                  this resource.
                                enum:
                                - uuid
                                - name
                                type: string
                              uuid:
                                description: uuid is the UUID of the resource in the
                                  PC.
                                type: string
                            required:
                            - type
                            type: object
                          imageLookup:
                            description: imageLookup is a container that holds how
                              to look up vm images for the cluster.
                            properties:
                              baseOS:
                                description: |-
                                  BaseOS is the name of the base operating system to use for
                                  image lookup.
                                minLength: 1
                                type: string
                              format:
                                default: capx-{{.BaseOS}}-{{.K8sVersion}}-*
                                description: |-
                                  Format is the naming format to look up the image for this
                                  machine It will be ignored if an explicit image is set. Supports
                                  substitutions for {{.BaseOS}} and {{.K8sVersion}} with the base OS and
                                  kubernetes version, respectively. The BaseOS will be the value in
                                  BaseOS and the K8sVersion is the value in the Machine .spec.version, with the v prefix removed.
                                  This is effectively the defined by the packages produced by kubernetes/release without v as a
                                  prefix: 1.13.0, 1.12.5-mybuild.1, or 1.17.3. For example, the default
                                  image format of {{.BaseOS}}-?{{.K8sVersion}}-* and BaseOS as "rhel-8.10" will end up
                                  searching for images that match the pattern rhel-8.10-1.30.5-* for a
                                  Machine that is targeting kubernetes v1.30.5. See
                                  also: https://golang.org/pkg/text/template/
                                type: string
                            required:
                            - baseOS
                            type: object
                          memorySize:
                            description: memorySize is the memory size (in Quantity
                              format) of the VM
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            type: string
                          project:
                            description: |-
                              add the virtual machines to the project defined in Prism Central.
                              The project must already be present in the Prism Central.
                            properties:
                              name:
                                description: name is the resource name in the PC
                                type: string
                              type:
                                description: Type is the identifier type to use for
                                  this resource.
                                enum:
                                - uuid
                                - name
                                type: string
                              uuid:
                                description: uuid is the UUID of the resource in the
                                  PC.
                                type: string
                            required:
                            - type
                            type: object
                          subnets:
                            description: |-
                              subnet identifies the network subnet to use for the machine.
                              The identifier (uuid or name) can be obtained from the console or API.
                            items:
                              description: NutanixResourceIdentifier holds the identity
                                of a Nutanix PC resource (cluster, image, subnet,
                                etc.)
                              properties:
                                name:
                                  description: name is the resource name in the PC
                                  type: string
                                type:
                                  description: Type is the identifier type to use
                                    for this resource.
                                  enum:
                                  - uuid
                                  - name
                                  type: string
                                uuid:
                                  description: uuid is the UUID of the resource in
                                    the PC.
                                  type: string
                              required:
                              - type
                              type: object
                            maxItems: 16
                            type: array
                          systemDiskSize:
                            description: |-
                              systemDiskSize is size (in Quantity format) of the system disk of the VM
                              The minimum systemDiskSize is 20Gi bytes
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            type: string
                          vcpuSockets:
                            description: vcpuSockets is the number of vCPU sockets
                              of the VM
                            format: int32
                            type: integer
                          vcpusPerSocket:
                            description: vcpusPerSocket is the number of vCPUs per
                              socket of the VM
                            format: int32
                            type: integer
                        required:
                        - memorySize
                        - systemDiskSize
                        - vcpuSockets
                        - vcpusPerSocket
                        type: object
                        x-kubernetes-validations:
                        - message: Either 'image' or 'imageLookup' must be set, but
                            not both
                          rule: has(self.image) != has(self.imageLookup)
                    required:
                    - machineDetails
                    type: object
                  taints:
                    description: Taints specifies the taints the Node API object should
                      be registered with.
                    items:
                      description: |-
                        The node this Taint is attached to has the "effect" on
                        any pod that does not tolerate the Taint.
                      properties:
                        effect:
                          default: NoSchedule
                          description: |-
                            The effect of the taint on pods that do not tolerate the taint.
                            Valid effects are NoSchedule, PreferNoSchedule and NoExecute.
                          enum:
                          - NoSchedule
                          - PreferNoSchedule
                          - NoExecute
                          type: string
                        key:
                          description: The taint key to be applied to a node.
                          maxLength: 253
                          type: string
                        value:
                          description: The taint value corresponding to the taint
                            key.
                          maxLength: 63
                          minLength: 1
                          type: string
                      required:
                      - effect
                      - key
                      type: object
                    maxItems: 32
                    type: array
                type: object
              dns:
                description: DNS defines the DNS configuration for the cluster.
                properties:
                  coreDNS:
                    description: CoreDNS defines the CoreDNS configuration for the
                      cluster.
                    properties:
                      image:
                        description: |-
                          Image required for overriding Kubernetes DNS image details.
                          If the image version is not specified,
                          the default version based on the cluster's Kubernetes version will be used.
                        properties:
                          repository:
                            description: Repository is used to override the image
                              repository to pull from.
                            maxLength: 2048
                            minLength: 1
                            pattern: ^((?:[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*|\[(?:[a-fA-F0-9:]+)\])(:[0-9]+)?/)?[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*(/[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*)*$
                            type: string
                          tag:
                            description: Tag is used to override the default image
                              tag.
                            maxLength: 128
                            minLength: 1
                            pattern: ^[\w][\w.-]{0,127}$
                            type: string
                        type: object
                    type: object
                type: object
              encryptionAtRest:
                description: |-
                  EncryptionAtRest defines the configuration to enable encryption at REST
                  This configuration is used by API server to encrypt data before storing it in ETCD.
                  Currently the encryption only enabled for secrets and configmaps.
                properties:
                  providers:
                    default:
                    - aescbc: {}
                    description: Encryption providers
                    items:
                      properties:
                        aescbc:
                          type: object
                        secretbox:
                          type: object
                      type: object
                    maxItems: 1
                    type: array
                type: object
              etcd:
                properties:
                  image:
                    description: Image required for overriding etcd image details.
                    properties:
                      repository:
                        description: Repository is used to override the image repository
                          to pull from.
                        maxLength: 2048
                        minLength: 1
                        pattern: ^((?:[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*|\[(?:[a-fA-F0-9:]+)\])(:[0-9]+)?/)?[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*(/[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*)*$
                        type: string
                      tag:
                        description: Tag is used to override the default image tag.
                        maxLength: 128
                        minLength: 1
                        pattern: ^[\w][\w.-]{0,127}$
                        type: string
                    type: object
                type: object
              extraAPIServerCertSANs:
                description: |-
                  Subject Alternative Names for the API Server signing cert.
                  For the Nutanix provider, the following default SANs will always be added:
                  - localhost
                  - 127.0.0.1
                  - 0.0.0.0
                items:
                  maxLength: 253
                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                  type: string
                maxItems: 100
                type: array
                uniqueItems: true
              globalImageRegistryMirror:
                description: GlobalImageRegistryMirror sets default mirror configuration
                  for all the image registries.
                properties:
                  credentials:
                    description: Credentials and CA certificate for the image registry
                      mirror
                    properties:
                      secretRef:
                        description: |-
                          A reference to the Secret containing the registry credentials and optional CA certificate
                          using the keys `username`, `password` and `ca.crt`.
                          This credentials Secret is not required for some registries, e.g. ECR.
                        properties:
                          name:
                            description: |-
                              Name of the referent.
                              More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                            maxLength: 253
                            minLength: 1
                            type: string
                        required:
                        - name
                        type: object
                    type: object
                  url:
                    description: Registry mirror URL.
                    format: uri
                    pattern: ^https?://
                    type: string
                required:
                - url
                type: object
              imageRegistries:
                items:
                  properties:
                    credentials:
                      description: Credentials and CA certificate for the image registry
                      properties:
                        secretRef:
                          description: |-
                            A reference to the Secret containing the registry credentials and optional CA certificate
                            using the keys `username`, `password` and `ca.crt`.
                            This credentials Secret is not required for some registries, e.g. ECR.
                          properties:
                            name:
                              description: |-
                                Name of the referent.
                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                              maxLength: 253
                              minLength: 1
                              type: string
                          required:
                          - name
                          type: object
                      type: object
                    url:
                      description: Registry URL.
                      format: uri
                      pattern: ^https?://
                      type: string
                  required:
                  - url
                  type: object
                maxItems: 32
                type: array
              kubeProxy:
                description: KubeProxy defines the configuration for kube-proxy.
                properties:
                  mode:
                    description: |-
                      Mode specifies the mode for kube-proxy:
                      - iptables means that kube-proxy is installed in iptables mode.
                      - nftables means that kube-proxy is installed in nftables mode.
                      - disabled means that kube-proxy is disabled.
                    enum:
                    - iptables
                    - nftables
                    - disabled
                    type: string
                    x-kubernetes-validations:
                    - message: Value cannot be changed after cluster creation
                      rule: self == oldSelf
                type: object
              kubernetesImageRepository:
                description: Sets the Kubernetes image repository used for the KubeadmControlPlane.
                maxLength: 2048
                minLength: 1
                pattern: ^((?:[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*|\[(?:[a-fA-F0-9:]+)\])(:[0-9]+)?/)?[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*(/[a-z0-9]+((?:[._]|__|[-]+)[a-z0-9]+)*)*$
                type: string
              maxParallelImagePullsPerNode:
                description: |-
                  MaxParallelImagePullsPerNode defines the maximum number of parallel image pulls performed by each kubelet.
                  If not set, the default value of 1 will be used.
                  If set to 0, the maximum number of parallel image pulls will be unlimited.
                format: int32
                minimum: 0
                type: integer
              ntp:
                description: NTP defines the NTP configuration for the cluster.
                properties:
                  servers:
                    description: Servers is a list of NTP servers to use for time
                      synchronization.
                    items:
                      maxLength: 253
                      type: string
                    maxItems: 16
                    minItems: 1
                    type: array
                required:
                - servers
                type: object
              nutanix:
                description: NutanixSpec defines the desired state of NutanixCluster.
                properties:
                  controlPlaneEndpoint:
                    description: |-
                      ControlPlaneEndpoint represents the endpoint used to communicate with the control plane.
                      host can be either DNS name or ip address
                    properties:
                      host:
                        description: The hostname on which the API server is serving.
                        maxLength: 253
                        minLength: 1
                        type: string
                      port:
                        description: The port on which the API server is serving.
                        format: int32
                        maximum: 65535
                        minimum: 1
                        type: integer
                      virtualIP:
                        description: Configuration for the virtual IP provider.
                        properties:
                          configuration:
                            description: Configuration for the chosen control-plane
                              virtual IP provider.
                            properties:
                              address:
                                description: |-
                                  The virtual IP on which the API server is serving.
                                  If left empty, the value from controlPlaneEndpoint.host will be used.
                                format: ipv4
                                minLength: 1
                                type: string
                              port:
                                description: |-
                                  The port on which the API server is serving.
                                  If left empty, the value from controlPlaneEndpoint.port will be used.
                                format: int32
                                maximum: 65535
                                minimum: 1
                                type: integer
                            type: object
                          provider:
                            default: KubeVIP
                            description: Virtual IP provider to deploy.
                            enum:
                            - KubeVIP
                            type: string
                        type: object
                    required:
                    - host
                    - port
                    type: object
                  prismCentralEndpoint:
                    description: Nutanix Prism Central endpoint configuration.
                    properties:
                      additionalTrustBundle:
                        description: |-
                          A base64 PEM encoded x509 cert for the RootCA that was used to create
                          the certificate for a Prism Central that uses certificates that were issued by a non-publicly trusted RootCA.
                          The trust bundle is added to the cert pool used to authenticate the TLS connection to the Prism Central.
                        format: byte
                        maxLength: 1048576
                        minLength: 1
                        type: string
                      credentials:
                        description: A reference to the Secret for credential information
                          for the target Prism Central instance.
                        properties:
                          secretRef:
                            description: A reference to the Secret containing the
                              Prism Central credentials.
                            properties:
                              name:
                                description: |-
                                  Name of the referent.
                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                maxLength: 253
                                minLength: 1
                                type: string
                            required:
                            - name
                            type: object
                        required:
                        - secretRef
                        type: object
                      insecure:
                        description: use insecure connection to Prism Central endpoint
                        type: boolean
                      url:
                        description: The URL of Nutanix Prism Central, can be DNS
                          name or an IP address.
                        format: uri
                        pattern: ^https://
                        type: string
                    required:
                    - credentials
                    - url
                    type: object
                required:
                - controlPlaneEndpoint
                - prismCentralEndpoint
                type: object
              proxy:
                description: HTTPProxy required for providing proxy configuration.
                properties:
                  additionalNo:
                    description: |-
                      AdditionalNo Proxy list that will be added to the automatically calculated
                      values that will apply no_proxy configuration for cluster internal network.
                      Default values: localhost,127.0.0.1,<POD_NETWORK>,<SERVICE_NETWORK>,kubernetes
                        ,kubernetes.default,.svc,.svc.<SERVICE_DOMAIN>
                    items:
                      maxLength: 253
                      minLength: 1
                      type: string
                    maxItems: 128
                    type: array
                  http:
                    description: HTTP proxy value.
                    maxLength: 2048
                    minLength: 1
                    type: string
                  https:
                    description: HTTPS proxy value.
                    maxLength: 2048
                    minLength: 1
                    type: string
                type: object
              users:
                items:
                  description: User defines the input for a generated user in cloud-init.
                  properties:
                    hashedPassword:
                      description: |-
                        HashedPassword is a hashed password for the user, formatted as described
                        by the crypt(5) man page. See your distribution's documentation for
                        instructions to create a hashed password.
                        An empty string is not marshalled, because it is not a valid value.
                      maxLength: 256
                      minLength: 1
                      type: string
                    name:
                      description: Name specifies the user name.
                      maxLength: 256
                      minLength: 1
                      type: string
                    sshAuthorizedKeys:
                      description: |-
                        SSHAuthorizedKeys is a list of public SSH keys to write to the
                        machine. Use the corresponding private SSH keys to authenticate. See SSH
                        documentation for instructions to create a key pair.
                      items:
                        maxLength: 2048
                        minLength: 1
                        type: string
                      maxItems: 100
                      type: array
                    sudo:
                      description: |-
                        Sudo is a sudo user specification, formatted as described in the sudo
                        documentation.
                        An empty string is not marshalled, because it is not a valid value.
                      maxLength: 256
                      minLength: 1
                      type: string
                  required:
                  - name
                  type: object
                maxItems: 32
                type: array
            type: object
      definitionsConflict: false
      name: clusterConfig
    - definitions:
      - from: worker-config
        metadata: {}
        required: false
        schema:
          openAPIV3Schema:
            description: NutanixWorkerNodeConfigSpec defines the desired state of
              NutanixWorkerNodeSpec.
            properties:
              nodeRegistration:
                default: {}
                description: NodeRegistration holds fields that relate to registering
                  the new node to the cluster.
                properties:
                  ignorePreflightErrors:
                    default:
                    - SystemVerification
                    description: |-
                      IgnorePreflightErrors specifies a slice of pre-flight errors to be ignored by kubeadm
                      when the current node is registered.
                    items:
                      maxLength: 512
                      minLength: 1
                      type: string
                    maxItems: 50
                    type: array
                type: object
              nutanix:
                properties:
                  machineDetails:
                    properties:
                      additionalCategories:
                        description: |-
                          List of categories that need to be added to the machines. Categories must already
                          exist in Prism Central. One category key can have more than one value.
                        items:
                          properties:
                            key:
                              description: key is the Key of category in PC.
                              type: string
                            value:
                              description: value is the category value linked to the
                                category key in PC
                              type: string
                          type: object
                        maxItems: 32
                        type: array
                      bootType:
                        description: Defines the boot type of the virtual machine.
                          Only supports UEFI and Legacy
                        enum:
                        - legacy
                        - uefi
                        type: string
                      cluster:
                        description: |-
                          cluster identifies the Prism Element in which the machine will be created.
                          The identifier (uuid or name) can be obtained from the console or API.
                        properties:
                          name:
                            description: name is the resource name in the PC
                            type: string
                          type:
                            description: Type is the identifier type to use for this
                              resource.
                            enum:
                            - uuid
                            - name
                            type: string
                          uuid:
                            description: uuid is the UUID of the resource in the PC.
                            type: string
                        required:
                        - type
                        type: object
                      gpus:
                        description: List of GPU devices that need to be added to
                          the machines.
                        items:
                          properties:
                            deviceID:
                              description: deviceID is the id of the GPU entity.
                              format: int64
                              type: integer
                            name:
                              description: name is the GPU name
                              type: string
                            type:
                              description: Type is the identifier type to use for
                                this resource.
                              enum:
                              - deviceID
                              - name
                              type: string
                          required:
                          - type
                          type: object
                        maxItems: 32
                        type: array
                      image:
                        description: |-
                          image identifies the image uploaded to Prism Central (PC). The identifier
                          (uuid or name) can be obtained from the console or API.
                        properties:
                          name:
                            description: name is the resource name in the PC
                            type: string
                          type:
                            description: Type is the identifier type to use for this
                              resource.
                            enum:
                            - uuid
                            - name
                            type: string
                          uuid:
                            description: uuid is the UUID of the resource in the PC.
                            type: string
                        required:
                        - type
                        type: object
                      imageLookup:
                        description: imageLookup is a container that holds how to
                          look up vm images for the cluster.
                        properties:
                          baseOS:
                            description: |-
                              BaseOS is the name of the base operating system to use for
                              image lookup.
                            minLength: 1
                            type: string
                          format:
                            default: capx-{{.BaseOS}}-{{.K8sVersion}}-*
                            description: |-
                              Format is the naming format to look up the image for this
                              machine It will be ignored if an explicit image is set. Supports
                              substitutions for {{.BaseOS}} and {{.K8sVersion}} with the base OS and
                              kubernetes version, respectively. The BaseOS will be the value in
                              BaseOS and the K8sVersion is the value in the Machine .spec.version, with the v prefix removed.
                              This is effectively the defined by the packages produced by kubernetes/release without v as a
                              prefix: 1.13.0, 1.12.5-mybuild.1, or 1.17.3. For example, the default
                              image format of {{.BaseOS}}-?{{.K8sVersion}}-* and BaseOS as "rhel-8.10" will end up
                              searching for images that match the pattern rhel-8.10-1.30.5-* for a
                              Machine that is targeting kubernetes v1.30.5. See
                              also: https://golang.org/pkg/text/template/
                            type: string
                        required:
                        - baseOS
                        type: object
                      memorySize:
                        description: memorySize is the memory size (in Quantity format)
                          of the VM
                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                        type: string
                      project:
                        description: |-
                          add the virtual machines to the project defined in Prism Central.
                          The project must already be present in the Prism Central.
                        properties:
                          name:
                            description: name is the resource name in the PC
                            type: string
                          type:
                            description: Type is the identifier type to use for this
                              resource.
                            enum:
                            - uuid
                            - name
                            type: string
                          uuid:
                            description: uuid is the UUID of the resource in the PC.
                            type: string
                        required:
                        - type
                        type: object
                      subnets:
                        description: |-
                          subnet identifies the network subnet to use for the machine.
                          The identifier (uuid or name) can be obtained from the console or API.
                        items:
                          description: NutanixResourceIdentifier holds the identity
                            of a Nutanix PC resource (cluster, image, subnet, etc.)
                          properties:
                            name:
                              description: name is the resource name in the PC
                              type: string
                            type:
                              description: Type is the identifier type to use for
                                this resource.
                              enum:
                              - uuid
                              - name
                              type: string
                            uuid:
                              description: uuid is the UUID of the resource in the
                                PC.
                              type: string
                          required:
                          - type
                          type: object
                        maxItems: 16
                        type: array
                      systemDiskSize:
                        description: |-
                          systemDiskSize is size (in Quantity format) of the system disk of the VM
                          The minimum systemDiskSize is 20Gi bytes
                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                        type: string
                      vcpuSockets:
                        description: vcpuSockets is the number of vCPU sockets of
                          the VM
                        format: int32
                        type: integer
                      vcpusPerSocket:
                        description: vcpusPerSocket is the number of vCPUs per socket
                          of the VM
                        format: int32
                        type: integer
                    required:
                    - memorySize
                    - systemDiskSize
                    - vcpuSockets
                    - vcpusPerSocket
                    type: object
                    x-kubernetes-validations:
                    - message: Either 'image' or 'imageLookup' must be set, but not
                        both
                      rule: has(self.image) != has(self.imageLookup)
                required:
                - machineDetails
                type: object
              taints:
                description: Taints specifies the taints the Node API object should
                  be registered with.
                items:
                  description: |-
                    The node this Taint is attached to has the "effect" on
                    any pod that does not tolerate the Taint.
                  properties:
                    effect:
                      default: NoSchedule
                      description: |-
                        The effect of the taint on pods that do not tolerate the taint.
                        Valid effects are NoSchedule, PreferNoSchedule and NoExecute.
                      enum:
                      - NoSchedule
                      - PreferNoSchedule
                      - NoExecute
                      type: string
                    key:
                      description: The taint key to be applied to a node.
                      maxLength: 253
                      type: string
                    value:
                      description: The taint value corresponding to the taint key.
                      maxLength: 63
                      minLength: 1
                      type: string
                  required:
                  - effect
                  - key
                  type: object
                maxItems: 32
                type: array
            type: object
      definitionsConflict: false
      name: workerConfig
- apiVersion: cluster.x-k8s.io/v1beta1
  kind: Cluster
  metadata:
    annotations:
      caren.nutanix.com/cluster-uuid: 0199df57-9a86-71e6-824f-00b0a3501bac
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"cluster.x-k8s.io/v1beta1","kind":"Cluster","metadata":{"annotations":{"preflight.cluster.caren.nutanix.com/skip":"all"},"labels":{"cluster.x-k8s.io/provider":"eks"},"name":"dk-eks-awslb-2","namespace":"default"},"spec":{"topology":{"class":"eks-quick-start","controlPlane":{},"variables":[{"name":"clusterConfig","value":{"addons":{"clusterAutoscaler":{},"cni":{"provider":"Cilium"},"csi":{"defaultStorage":{"provider":"aws-ebs","storageClassConfig":"default"},"providers":{"aws-ebs":{"storageClassConfigs":{"default":{}}}},"snapshotController":{}},"nfd":{}},"eks":{"region":"us-west-2"},"kubeProxy":{"mode":"disabled"}}}],"version":"v1.34.1","workers":{"machineDeployments":[{"class":"default-worker","metadata":{"annotations":{"cluster.x-k8s.io/cluster-api-autoscaler-node-group-max-size":"2","cluster.x-k8s.io/cluster-api-autoscaler-node-group-min-size":"2"}},"name":"md-0","variables":{"overrides":[{"name":"workerConfig","value":{"eks":{"instanceType":"m5.2xlarge"}}}]}}]}}}}
      preflight.cluster.caren.nutanix.com/skip: all
      runtime.cluster.x-k8s.io/pending-hooks: AfterControlPlaneInitialized
    creationTimestamp: "2025-10-13T20:51:24Z"
    finalizers:
    - cluster.cluster.x-k8s.io
    generation: 3
    labels:
      cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
      cluster.x-k8s.io/provider: eks
      topology.cluster.x-k8s.io/owned: ""
    name: dk-eks-awslb-2
    namespace: default
    resourceVersion: "6141"
    uid: 66a4b0f0-b62f-4564-ad3d-365a8f532c10
  spec:
    controlPlaneEndpoint:
      host: https://BA9E9DA91414656B9E03B32742DBBEFF.gr7.us-west-2.eks.amazonaws.com
      port: 443
    controlPlaneRef:
      apiVersion: controlplane.cluster.x-k8s.io/v1beta2
      kind: AWSManagedControlPlane
      name: dk-eks-awslb-2-6qhks
      namespace: default
    infrastructureRef:
      apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
      kind: AWSManagedCluster
      name: dk-eks-awslb-2-w9g55
      namespace: default
    topology:
      class: eks-quick-start
      controlPlane:
        metadata: {}
      variables:
      - name: clusterConfig
        value:
          addons:
            clusterAutoscaler:
              strategy: HelmAddon
            cni:
              provider: Cilium
              strategy: HelmAddon
            csi:
              defaultStorage:
                provider: aws-ebs
                storageClassConfig: default
              providers:
                aws-ebs:
                  storageClassConfigs:
                    default:
                      reclaimPolicy: Delete
                      volumeBindingMode: WaitForFirstConsumer
                  strategy: HelmAddon
              snapshotController:
                strategy: HelmAddon
            nfd:
              strategy: HelmAddon
          eks:
            region: us-west-2
          kubeProxy:
            mode: disabled
      version: v1.34.1
      workers:
        machineDeployments:
        - class: default-worker
          metadata:
            annotations:
              cluster.x-k8s.io/cluster-api-autoscaler-node-group-max-size: "2"
              cluster.x-k8s.io/cluster-api-autoscaler-node-group-min-size: "2"
          name: md-0
          variables:
            overrides:
            - name: workerConfig
              value:
                eks:
                  iamInstanceProfile: nodes.cluster-api-provider-aws.sigs.k8s.io
                  instanceType: m5.2xlarge
  status:
    conditions:
    - lastTransitionTime: "2025-10-13T21:01:37Z"
      status: "True"
      type: Ready
    - lastTransitionTime: "2025-10-13T21:01:37Z"
      status: "True"
      type: ControlPlaneInitialized
    - lastTransitionTime: "2025-10-13T21:01:37Z"
      status: "True"
      type: ControlPlaneReady
    - lastTransitionTime: "2025-10-13T20:51:25Z"
      status: "True"
      type: InfrastructureReady
    - lastTransitionTime: "2025-10-13T21:01:47Z"
      message: 'error reconciling the Cluster topology: failed to call extension handlers
        for hook "AfterControlPlaneInitialized.hooks.runtime.cluster.x-k8s.io": failed
        to call extension handler "caren-acpi.cluster-api-runtime-extensions-nutanix":
        http call failed: Post "https://cluster-api-runtime-extensions-nutanix-runtimehooks.default.svc:443/hooks.runtime.cluster.x-k8s.io/v1alpha1/aftercontrolplaneinitialized/caren-acpi?timeout=10s":
        context deadline exceeded'
      reason: TopologyReconcileFailed
      severity: Error
      status: "False"
      type: TopologyReconciled
    controlPlaneReady: true
    failureDomains:
      us-west-2a:
        controlPlane: true
      us-west-2b:
        controlPlane: true
      us-west-2c:
        controlPlane: true
    infrastructureReady: true
    observedGeneration: 3
    phase: Provisioned
    v1beta2:
      conditions:
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: |-
          * WorkersAvailable:
            * MachineDeployment dk-eks-awslb-2-md-0-ls5z7: 0 available replicas, at least 2 required (spec.strategy.rollout.maxUnavailable is 0, spec.replicas is 2)
          * TopologyReconciled: error reconciling the Cluster topology: failed to call extension handlers for hook "AfterControlPlaneInitialized.hooks.runtime.cluster.x-k8s.io": failed to call extension handler "caren-acpi.cluster-api-runtime-extensions-nutanix": http call failed: Post "https://cluster-api-runtime-extensions-nutanix-runtimehooks.default.svc:443/hooks.runtime.cluster.x-k8s.io/v1alpha1/aftercontrolplaneinitialized/caren-acpi?timeout=10s": context deadline exceeded
        observedGeneration: 3
        reason: NotAvailable
        status: "False"
        type: Available
      - lastTransitionTime: "2025-10-13T21:01:55Z"
        message: ""
        observedGeneration: 3
        reason: ProbeSucceeded
        status: "True"
        type: RemoteConnectionProbe
      - lastTransitionTime: "2025-10-13T20:51:25Z"
        message: ""
        observedGeneration: 3
        reason: Ready
        status: "True"
        type: InfrastructureReady
      - lastTransitionTime: "2025-10-13T21:01:37Z"
        message: ""
        observedGeneration: 2
        reason: Initialized
        status: "True"
        type: ControlPlaneInitialized
      - lastTransitionTime: "2025-10-13T21:01:34Z"
        message: ""
        observedGeneration: 3
        reason: Available
        status: "True"
        type: ControlPlaneAvailable
      - lastTransitionTime: "2025-10-13T20:51:25Z"
        message: '* MachineDeployment dk-eks-awslb-2-md-0-ls5z7: 0 available replicas,
          at least 2 required (spec.strategy.rollout.maxUnavailable is 0, spec.replicas
          is 2)'
        observedGeneration: 3
        reason: NotAvailable
        status: "False"
        type: WorkersAvailable
      - lastTransitionTime: "2025-10-13T21:01:47Z"
        message: 'error reconciling the Cluster topology: failed to call extension
          handlers for hook "AfterControlPlaneInitialized.hooks.runtime.cluster.x-k8s.io":
          failed to call extension handler "caren-acpi.cluster-api-runtime-extensions-nutanix":
          http call failed: Post "https://cluster-api-runtime-extensions-nutanix-runtimehooks.default.svc:443/hooks.runtime.cluster.x-k8s.io/v1alpha1/aftercontrolplaneinitialized/caren-acpi?timeout=10s":
          context deadline exceeded'
        observedGeneration: 3
        reason: ReconcileFailed
        status: "False"
        type: TopologyReconciled
      - lastTransitionTime: "2025-10-13T20:51:25Z"
        message: ""
        observedGeneration: 3
        reason: NotRollingOut
        status: "False"
        type: RollingOut
      - lastTransitionTime: "2025-10-13T20:51:25Z"
        message: ""
        observedGeneration: 3
        reason: NotRemediating
        status: "False"
        type: Remediating
      - lastTransitionTime: "2025-10-13T20:51:25Z"
        message: ""
        observedGeneration: 3
        reason: NotScalingDown
        status: "False"
        type: ScalingDown
      - lastTransitionTime: "2025-10-13T20:53:40Z"
        message: ""
        observedGeneration: 3
        reason: NotScalingUp
        status: "False"
        type: ScalingUp
      - lastTransitionTime: "2025-10-13T20:51:25Z"
        message: ""
        observedGeneration: 3
        reason: NoReplicas
        status: "True"
        type: ControlPlaneMachinesReady
      - lastTransitionTime: "2025-10-13T21:01:59Z"
        message: |-
          * Machines dk-eks-awslb-2-md-0-ls5z7-5z9pz-fqs2w, dk-eks-awslb-2-md-0-ls5z7-5z9pz-mkjtc:
            * NodeHealthy:
              * Node.Ready: container runtime network not ready: NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized
        observedGeneration: 3
        reason: NotReady
        status: "False"
        type: WorkerMachinesReady
      - lastTransitionTime: "2025-10-13T20:51:25Z"
        message: ""
        observedGeneration: 3
        reason: NoReplicas
        status: "True"
        type: ControlPlaneMachinesUpToDate
      - lastTransitionTime: "2025-10-13T20:51:25Z"
        message: ""
        observedGeneration: 3
        reason: UpToDate
        status: "True"
        type: WorkerMachinesUpToDate
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 3
        reason: NotPaused
        status: "False"
        type: Paused
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 3
        reason: NotDeleting
        status: "False"
        type: Deleting
      controlPlane: {}
      workers:
        availableReplicas: 0
        desiredReplicas: 2
        readyReplicas: 0
        replicas: 2
        upToDateReplicas: 2
- apiVersion: cluster.x-k8s.io/v1beta1
  kind: MachineDeployment
  metadata:
    annotations:
      cluster.x-k8s.io/cluster-api-autoscaler-node-group-max-size: "2"
      cluster.x-k8s.io/cluster-api-autoscaler-node-group-min-size: "2"
      machinedeployment.clusters.x-k8s.io/revision: "1"
    creationTimestamp: "2025-10-13T20:51:24Z"
    finalizers:
    - cluster.x-k8s.io/machinedeployment
    - machinedeployment.topology.cluster.x-k8s.io
    generation: 1
    labels:
      cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
      topology.cluster.x-k8s.io/deployment-name: md-0
      topology.cluster.x-k8s.io/owned: ""
    name: dk-eks-awslb-2-md-0-ls5z7
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: Cluster
      name: dk-eks-awslb-2
      uid: 66a4b0f0-b62f-4564-ad3d-365a8f532c10
    resourceVersion: "6140"
    uid: 80d68101-864e-44c8-b267-116d1fa7774b
  spec:
    clusterName: dk-eks-awslb-2
    minReadySeconds: 0
    progressDeadlineSeconds: 600
    replicas: 2
    revisionHistoryLimit: 1
    selector:
      matchLabels:
        cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
        topology.cluster.x-k8s.io/deployment-name: md-0
        topology.cluster.x-k8s.io/owned: ""
    strategy:
      rollingUpdate:
        maxSurge: 1
        maxUnavailable: 0
      type: RollingUpdate
    template:
      metadata:
        annotations:
          cluster.x-k8s.io/cluster-api-autoscaler-node-group-max-size: "2"
          cluster.x-k8s.io/cluster-api-autoscaler-node-group-min-size: "2"
        labels:
          cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
          topology.cluster.x-k8s.io/deployment-name: md-0
          topology.cluster.x-k8s.io/owned: ""
      spec:
        bootstrap:
          configRef:
            apiVersion: bootstrap.cluster.x-k8s.io/v1beta2
            kind: NodeadmConfigTemplate
            name: dk-eks-awslb-2-md-0-zlndg
            namespace: default
        clusterName: dk-eks-awslb-2
        infrastructureRef:
          apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
          kind: AWSMachineTemplate
          name: dk-eks-awslb-2-md-0-cqkgk
          namespace: default
        version: v1.34.1
  status:
    conditions:
    - lastTransitionTime: "2025-10-13T20:51:24Z"
      message: Minimum availability requires 2 replicas, current 0 available
      reason: WaitingForAvailableMachines
      severity: Warning
      status: "False"
      type: Ready
    - lastTransitionTime: "2025-10-13T20:51:24Z"
      message: Minimum availability requires 2 replicas, current 0 available
      reason: WaitingForAvailableMachines
      severity: Warning
      status: "False"
      type: Available
    - lastTransitionTime: "2025-10-13T20:53:40Z"
      message: Scaling up MachineSet to 2 replicas (actual 0)
      reason: ScalingUp
      severity: Warning
      status: "False"
      type: MachineSetReady
    observedGeneration: 1
    phase: ScalingUp
    replicas: 2
    selector: cluster.x-k8s.io/cluster-name=dk-eks-awslb-2,topology.cluster.x-k8s.io/deployment-name=md-0,topology.cluster.x-k8s.io/owned=
    unavailableReplicas: 2
    updatedReplicas: 2
    v1beta2:
      availableReplicas: 0
      conditions:
      - lastTransitionTime: "2025-10-13T20:51:25Z"
        message: 0 available replicas, at least 2 required (spec.strategy.rollout.maxUnavailable
          is 0, spec.replicas is 2)
        observedGeneration: 1
        reason: NotAvailable
        status: "False"
        type: Available
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 1
        reason: NotRollingOut
        status: "False"
        type: RollingOut
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 1
        reason: NotRemediating
        status: "False"
        type: Remediating
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 1
        reason: NotScalingDown
        status: "False"
        type: ScalingDown
      - lastTransitionTime: "2025-10-13T20:53:40Z"
        message: ""
        observedGeneration: 1
        reason: NotScalingUp
        status: "False"
        type: ScalingUp
      - lastTransitionTime: "2025-10-13T21:01:59Z"
        message: |-
          * Machines dk-eks-awslb-2-md-0-ls5z7-5z9pz-fqs2w, dk-eks-awslb-2-md-0-ls5z7-5z9pz-mkjtc:
            * NodeHealthy:
              * Node.Ready: container runtime network not ready: NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized
        observedGeneration: 1
        reason: NotReady
        status: "False"
        type: MachinesReady
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 1
        reason: UpToDate
        status: "True"
        type: MachinesUpToDate
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 1
        reason: NotPaused
        status: "False"
        type: Paused
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 1
        reason: NotDeleting
        status: "False"
        type: Deleting
      readyReplicas: 0
      upToDateReplicas: 2
- apiVersion: cluster.x-k8s.io/v1beta1
  kind: Machine
  metadata:
    annotations:
      cluster.x-k8s.io/cluster-api-autoscaler-node-group-max-size: "2"
      cluster.x-k8s.io/cluster-api-autoscaler-node-group-min-size: "2"
    creationTimestamp: "2025-10-13T20:53:40Z"
    finalizers:
    - machine.cluster.x-k8s.io
    generation: 3
    labels:
      cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
      cluster.x-k8s.io/deployment-name: dk-eks-awslb-2-md-0-ls5z7
      cluster.x-k8s.io/set-name: dk-eks-awslb-2-md-0-ls5z7-5z9pz
      machine-template-hash: 1182355820-5z9pz
      topology.cluster.x-k8s.io/deployment-name: md-0
      topology.cluster.x-k8s.io/owned: ""
    name: dk-eks-awslb-2-md-0-ls5z7-5z9pz-fqs2w
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      blockOwnerDeletion: true
      controller: true
      kind: MachineSet
      name: dk-eks-awslb-2-md-0-ls5z7-5z9pz
      uid: 004ade09-225b-4d82-992a-2f81fc8ca1ee
    resourceVersion: "6134"
    uid: b0c5aa7d-0096-4bdb-8d24-f2c905ac99bb
  spec:
    bootstrap:
      configRef:
        apiVersion: bootstrap.cluster.x-k8s.io/v1beta2
        kind: NodeadmConfig
        name: dk-eks-awslb-2-md-0-ls5z7-5z9pz-fqs2w
        namespace: default
        uid: a9933d58-20ed-4a54-8b8e-bed4571b6d06
      dataSecretName: dk-eks-awslb-2-md-0-ls5z7-5z9pz-fqs2w
    clusterName: dk-eks-awslb-2
    infrastructureRef:
      apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
      kind: AWSMachine
      name: dk-eks-awslb-2-md-0-ls5z7-5z9pz-fqs2w
      namespace: default
      uid: ae39c0b7-b262-47a4-8efa-317870f6f3e1
    nodeDeletionTimeout: 10s
    providerID: aws:///us-west-2a/i-08c6a4b5110dfae9a
    version: v1.34.1
  status:
    addresses:
    - address: ip-10-0-70-38.us-west-2.compute.internal
      type: InternalDNS
    - address: 10.0.70.38
      type: InternalIP
    bootstrapReady: true
    conditions:
    - lastTransitionTime: "2025-10-13T21:01:56Z"
      status: "True"
      type: Ready
    - lastTransitionTime: "2025-10-13T21:01:40Z"
      status: "True"
      type: BootstrapReady
    - lastTransitionTime: "2025-10-13T21:01:56Z"
      status: "True"
      type: InfrastructureReady
    - lastTransitionTime: "2025-10-13T21:01:59Z"
      message: Node condition Ready is False
      reason: NodeConditionsFailed
      severity: Warning
      status: "False"
      type: NodeHealthy
    infrastructureReady: true
    lastUpdated: "2025-10-13T21:01:59Z"
    nodeInfo:
      architecture: amd64
      bootID: a071e3f7-6617-4f58-8f03-a6dc78c5aa5f
      containerRuntimeVersion: containerd://2.1.4
      kernelVersion: 6.12.46-66.121.amzn2023.x86_64
      kubeProxyVersion: ""
      kubeletVersion: v1.34.1-eks-113cf36
      machineID: ec2f994f729319f5b6d5365a1b8d5387
      operatingSystem: linux
      osImage: Amazon Linux 2023.9.20250929
      systemUUID: ec2f994f-7293-19f5-b6d5-365a1b8d5387
    nodeRef:
      apiVersion: v1
      kind: Node
      name: ip-10-0-70-38.us-west-2.compute.internal
      uid: 5d4d5de9-bd34-4185-be95-bae28e3fa958
    observedGeneration: 3
    phase: Running
    v1beta2:
      conditions:
      - lastTransitionTime: "2025-10-13T20:53:40Z"
        message: ""
        observedGeneration: 3
        reason: NotReady
        status: "False"
        type: Available
      - lastTransitionTime: "2025-10-13T21:01:59Z"
        message: |-
          * NodeHealthy:
            * Node.Ready: container runtime network not ready: NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized
        observedGeneration: 3
        reason: NotReady
        status: "False"
        type: Ready
      - lastTransitionTime: "2025-10-13T20:53:40Z"
        message: ""
        observedGeneration: 3
        reason: UpToDate
        status: "True"
        type: UpToDate
      - lastTransitionTime: "2025-10-13T21:01:40Z"
        message: ""
        observedGeneration: 3
        reason: Ready
        status: "True"
        type: BootstrapConfigReady
      - lastTransitionTime: "2025-10-13T21:01:56Z"
        message: ""
        observedGeneration: 3
        reason: Ready
        status: "True"
        type: InfrastructureReady
      - lastTransitionTime: "2025-10-13T21:01:59Z"
        message: '* Node.Ready: container runtime network not ready: NetworkReady=false
          reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin
          not initialized'
        observedGeneration: 3
        reason: NodeNotHealthy
        status: "False"
        type: NodeHealthy
      - lastTransitionTime: "2025-10-13T21:01:55Z"
        message: '* Node.Ready: container runtime network not ready: NetworkReady=false
          reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin
          not initialized'
        observedGeneration: 3
        reason: NodeNotReady
        status: "False"
        type: NodeReady
      - lastTransitionTime: "2025-10-13T20:53:40Z"
        message: ""
        observedGeneration: 3
        reason: NotPaused
        status: "False"
        type: Paused
      - lastTransitionTime: "2025-10-13T20:53:40Z"
        message: ""
        observedGeneration: 3
        reason: NotDeleting
        status: "False"
        type: Deleting
- apiVersion: cluster.x-k8s.io/v1beta1
  kind: Machine
  metadata:
    annotations:
      cluster.x-k8s.io/cluster-api-autoscaler-node-group-max-size: "2"
      cluster.x-k8s.io/cluster-api-autoscaler-node-group-min-size: "2"
    creationTimestamp: "2025-10-13T20:53:40Z"
    finalizers:
    - machine.cluster.x-k8s.io
    generation: 3
    labels:
      cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
      cluster.x-k8s.io/deployment-name: dk-eks-awslb-2-md-0-ls5z7
      cluster.x-k8s.io/set-name: dk-eks-awslb-2-md-0-ls5z7-5z9pz
      machine-template-hash: 1182355820-5z9pz
      topology.cluster.x-k8s.io/deployment-name: md-0
      topology.cluster.x-k8s.io/owned: ""
    name: dk-eks-awslb-2-md-0-ls5z7-5z9pz-mkjtc
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      blockOwnerDeletion: true
      controller: true
      kind: MachineSet
      name: dk-eks-awslb-2-md-0-ls5z7-5z9pz
      uid: 004ade09-225b-4d82-992a-2f81fc8ca1ee
    resourceVersion: "6138"
    uid: fbcce272-41fc-4851-bd63-2cfae345da39
  spec:
    bootstrap:
      configRef:
        apiVersion: bootstrap.cluster.x-k8s.io/v1beta2
        kind: NodeadmConfig
        name: dk-eks-awslb-2-md-0-ls5z7-5z9pz-mkjtc
        namespace: default
        uid: 4c18a88e-a272-4ebe-8629-9c10c5e468ab
      dataSecretName: dk-eks-awslb-2-md-0-ls5z7-5z9pz-mkjtc
    clusterName: dk-eks-awslb-2
    infrastructureRef:
      apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
      kind: AWSMachine
      name: dk-eks-awslb-2-md-0-ls5z7-5z9pz-mkjtc
      namespace: default
      uid: 1e091049-5947-41a0-8c76-5e4b80ce261d
    nodeDeletionTimeout: 10s
    providerID: aws:///us-west-2a/i-01f2ed396c60805d6
    version: v1.34.1
  status:
    addresses:
    - address: ip-10-0-109-16.us-west-2.compute.internal
      type: InternalDNS
    - address: 10.0.109.16
      type: InternalIP
    bootstrapReady: true
    conditions:
    - lastTransitionTime: "2025-10-13T21:01:56Z"
      status: "True"
      type: Ready
    - lastTransitionTime: "2025-10-13T21:01:40Z"
      status: "True"
      type: BootstrapReady
    - lastTransitionTime: "2025-10-13T21:01:56Z"
      status: "True"
      type: InfrastructureReady
    - lastTransitionTime: "2025-10-13T21:01:59Z"
      message: Node condition Ready is False
      reason: NodeConditionsFailed
      severity: Warning
      status: "False"
      type: NodeHealthy
    infrastructureReady: true
    lastUpdated: "2025-10-13T21:01:59Z"
    nodeInfo:
      architecture: amd64
      bootID: 75847a49-1d03-4433-a2e1-d4b8c3a5436a
      containerRuntimeVersion: containerd://2.1.4
      kernelVersion: 6.12.46-66.121.amzn2023.x86_64
      kubeProxyVersion: ""
      kubeletVersion: v1.34.1-eks-113cf36
      machineID: ec2fba08284878c75afd1ec3b967df98
      operatingSystem: linux
      osImage: Amazon Linux 2023.9.20250929
      systemUUID: ec2fba08-2848-78c7-5afd-1ec3b967df98
    nodeRef:
      apiVersion: v1
      kind: Node
      name: ip-10-0-109-16.us-west-2.compute.internal
      uid: ee221115-84e9-4713-a3db-eb1a65e766c5
    observedGeneration: 3
    phase: Running
    v1beta2:
      conditions:
      - lastTransitionTime: "2025-10-13T20:53:40Z"
        message: ""
        observedGeneration: 3
        reason: NotReady
        status: "False"
        type: Available
      - lastTransitionTime: "2025-10-13T21:01:59Z"
        message: |-
          * NodeHealthy:
            * Node.Ready: container runtime network not ready: NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized
        observedGeneration: 3
        reason: NotReady
        status: "False"
        type: Ready
      - lastTransitionTime: "2025-10-13T20:53:40Z"
        message: ""
        observedGeneration: 3
        reason: UpToDate
        status: "True"
        type: UpToDate
      - lastTransitionTime: "2025-10-13T21:01:40Z"
        message: ""
        observedGeneration: 3
        reason: Ready
        status: "True"
        type: BootstrapConfigReady
      - lastTransitionTime: "2025-10-13T21:01:56Z"
        message: ""
        observedGeneration: 3
        reason: Ready
        status: "True"
        type: InfrastructureReady
      - lastTransitionTime: "2025-10-13T21:01:59Z"
        message: '* Node.Ready: container runtime network not ready: NetworkReady=false
          reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin
          not initialized'
        observedGeneration: 3
        reason: NodeNotHealthy
        status: "False"
        type: NodeHealthy
      - lastTransitionTime: "2025-10-13T21:01:56Z"
        message: '* Node.Ready: container runtime network not ready: NetworkReady=false
          reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin
          not initialized'
        observedGeneration: 3
        reason: NodeNotReady
        status: "False"
        type: NodeReady
      - lastTransitionTime: "2025-10-13T20:53:40Z"
        message: ""
        observedGeneration: 3
        reason: NotPaused
        status: "False"
        type: Paused
      - lastTransitionTime: "2025-10-13T20:53:40Z"
        message: ""
        observedGeneration: 3
        reason: NotDeleting
        status: "False"
        type: Deleting
- apiVersion: cluster.x-k8s.io/v1beta1
  kind: MachineSet
  metadata:
    annotations:
      cluster.x-k8s.io/cluster-api-autoscaler-node-group-max-size: "2"
      cluster.x-k8s.io/cluster-api-autoscaler-node-group-min-size: "2"
      machinedeployment.clusters.x-k8s.io/desired-replicas: "2"
      machinedeployment.clusters.x-k8s.io/max-replicas: "3"
      machinedeployment.clusters.x-k8s.io/revision: "1"
    creationTimestamp: "2025-10-13T20:51:24Z"
    finalizers:
    - machineset.topology.cluster.x-k8s.io
    - cluster.x-k8s.io/machineset
    generation: 1
    labels:
      cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
      cluster.x-k8s.io/deployment-name: dk-eks-awslb-2-md-0-ls5z7
      machine-template-hash: 1182355820-5z9pz
      topology.cluster.x-k8s.io/deployment-name: md-0
      topology.cluster.x-k8s.io/owned: ""
    name: dk-eks-awslb-2-md-0-ls5z7-5z9pz
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      blockOwnerDeletion: true
      controller: true
      kind: MachineDeployment
      name: dk-eks-awslb-2-md-0-ls5z7
      uid: 80d68101-864e-44c8-b267-116d1fa7774b
    resourceVersion: "6139"
    uid: 004ade09-225b-4d82-992a-2f81fc8ca1ee
  spec:
    clusterName: dk-eks-awslb-2
    deletePolicy: Random
    replicas: 2
    selector:
      matchLabels:
        cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
        machine-template-hash: 1182355820-5z9pz
        topology.cluster.x-k8s.io/deployment-name: md-0
        topology.cluster.x-k8s.io/owned: ""
    template:
      metadata:
        annotations:
          cluster.x-k8s.io/cluster-api-autoscaler-node-group-max-size: "2"
          cluster.x-k8s.io/cluster-api-autoscaler-node-group-min-size: "2"
        labels:
          cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
          machine-template-hash: 1182355820-5z9pz
          topology.cluster.x-k8s.io/deployment-name: md-0
          topology.cluster.x-k8s.io/owned: ""
      spec:
        bootstrap:
          configRef:
            apiVersion: bootstrap.cluster.x-k8s.io/v1beta2
            kind: NodeadmConfigTemplate
            name: dk-eks-awslb-2-md-0-zlndg
            namespace: default
        clusterName: dk-eks-awslb-2
        infrastructureRef:
          apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
          kind: AWSMachineTemplate
          name: dk-eks-awslb-2-md-0-cqkgk
          namespace: default
        version: v1.34.1
  status:
    conditions:
    - lastTransitionTime: "2025-10-13T20:53:40Z"
      message: Scaling up MachineSet to 2 replicas (actual 0)
      reason: ScalingUp
      severity: Warning
      status: "False"
      type: Ready
    - lastTransitionTime: "2025-10-13T20:53:40Z"
      status: "True"
      type: MachinesCreated
    - lastTransitionTime: "2025-10-13T21:01:56Z"
      status: "True"
      type: MachinesReady
    - lastTransitionTime: "2025-10-13T20:51:24Z"
      message: Scaling up MachineSet to 2 replicas (actual 0)
      reason: ScalingUp
      severity: Warning
      status: "False"
      type: Resized
    fullyLabeledReplicas: 2
    observedGeneration: 1
    replicas: 2
    selector: cluster.x-k8s.io/cluster-name=dk-eks-awslb-2,machine-template-hash=1182355820-5z9pz,topology.cluster.x-k8s.io/deployment-name=md-0,topology.cluster.x-k8s.io/owned=
    v1beta2:
      availableReplicas: 0
      conditions:
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 1
        reason: NotRemediating
        status: "False"
        type: Remediating
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 1
        reason: NotScalingDown
        status: "False"
        type: ScalingDown
      - lastTransitionTime: "2025-10-13T20:53:40Z"
        message: ""
        observedGeneration: 1
        reason: NotScalingUp
        status: "False"
        type: ScalingUp
      - lastTransitionTime: "2025-10-13T21:01:59Z"
        message: |-
          * Machines dk-eks-awslb-2-md-0-ls5z7-5z9pz-fqs2w, dk-eks-awslb-2-md-0-ls5z7-5z9pz-mkjtc:
            * NodeHealthy:
              * Node.Ready: container runtime network not ready: NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized
        observedGeneration: 1
        reason: NotReady
        status: "False"
        type: MachinesReady
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 1
        reason: UpToDate
        status: "True"
        type: MachinesUpToDate
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 1
        reason: NotPaused
        status: "False"
        type: Paused
      - lastTransitionTime: "2025-10-13T20:51:24Z"
        message: ""
        observedGeneration: 1
        reason: NotDeleting
        status: "False"
        type: Deleting
      readyReplicas: 0
      upToDateReplicas: 2
- apiVersion: controlplane.cluster.x-k8s.io/v1beta2
  kind: AWSManagedControlPlane
  metadata:
    annotations:
      cluster.x-k8s.io/cloned-from-groupkind: AWSManagedControlPlaneTemplate.controlplane.cluster.x-k8s.io
      cluster.x-k8s.io/cloned-from-name: eks-quick-start-control-plane
    creationTimestamp: "2025-10-13T20:51:24Z"
    finalizers:
    - awsmanagedcontrolplane.controlplane.cluster.x-k8s.io
    generation: 6
    labels:
      cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
      topology.cluster.x-k8s.io/owned: ""
    name: dk-eks-awslb-2-6qhks
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      blockOwnerDeletion: true
      controller: true
      kind: Cluster
      name: dk-eks-awslb-2
      uid: 66a4b0f0-b62f-4564-ad3d-365a8f532c10
    resourceVersion: "5883"
    uid: f23d77aa-55aa-4ac2-959c-7a838ce41c5a
  spec:
    associateOIDCProvider: false
    bastion:
      allowedCIDRBlocks:
      - 0.0.0.0/0
      enabled: false
    bootstrapSelfManagedAddons: true
    controlPlaneEndpoint:
      host: https://BA9E9DA91414656B9E03B32742DBBEFF.gr7.us-west-2.eks.amazonaws.com
      port: 443
    eksClusterName: default_dk-eks-awslb-2-6qhks
    endpointAccess: {}
    iamAuthenticatorConfig: {}
    identityRef:
      kind: AWSClusterControllerIdentity
      name: default
    kubeProxy:
      disable: true
    network:
      cni:
        cniIngressRules:
        - description: bgp (calico)
          fromPort: 179
          protocol: tcp
          toPort: 179
        - description: IP-in-IP (calico)
          fromPort: -1
          protocol: "4"
          toPort: 65535
      subnets:
      - availabilityZone: us-west-2a
        cidrBlock: 10.0.0.0/20
        id: dk-eks-awslb-2-subnet-public-us-west-2a
        isPublic: true
        natGatewayId: nat-057cbfb5262a390be
        resourceID: subnet-040d6851c07f9f05c
        routeTableId: rtb-009ece5c975c7b681
        tags:
          Name: dk-eks-awslb-2-subnet-public-us-west-2a
        zoneType: availability-zone
      - availabilityZone: us-west-2a
        cidrBlock: 10.0.64.0/18
        id: dk-eks-awslb-2-subnet-private-us-west-2a
        isPublic: false
        resourceID: subnet-0ee6d529c209490c5
        routeTableId: rtb-0baaf5f4a8a6837e1
        tags:
          Name: dk-eks-awslb-2-subnet-private-us-west-2a
        zoneType: availability-zone
      - availabilityZone: us-west-2b
        cidrBlock: 10.0.16.0/20
        id: dk-eks-awslb-2-subnet-public-us-west-2b
        isPublic: true
        natGatewayId: nat-08e3334d37f890771
        resourceID: subnet-089968af711e2d0ae
        routeTableId: rtb-0123cbf6ec190afe5
        tags:
          Name: dk-eks-awslb-2-subnet-public-us-west-2b
        zoneType: availability-zone
      - availabilityZone: us-west-2b
        cidrBlock: 10.0.128.0/18
        id: dk-eks-awslb-2-subnet-private-us-west-2b
        isPublic: false
        resourceID: subnet-0ef58dbb028e2f4d1
        routeTableId: rtb-0f21c55f35feac4e5
        tags:
          Name: dk-eks-awslb-2-subnet-private-us-west-2b
        zoneType: availability-zone
      - availabilityZone: us-west-2c
        cidrBlock: 10.0.32.0/20
        id: dk-eks-awslb-2-subnet-public-us-west-2c
        isPublic: true
        natGatewayId: nat-0806a6df9200b7df4
        resourceID: subnet-058355b9bb29aebb0
        routeTableId: rtb-0cc97f5e5b58c95a4
        tags:
          Name: dk-eks-awslb-2-subnet-public-us-west-2c
        zoneType: availability-zone
      - availabilityZone: us-west-2c
        cidrBlock: 10.0.192.0/18
        id: dk-eks-awslb-2-subnet-private-us-west-2c
        isPublic: false
        resourceID: subnet-01ee96a24789437fc
        routeTableId: rtb-05c421fa714f9d29f
        tags:
          Name: dk-eks-awslb-2-subnet-private-us-west-2c
        zoneType: availability-zone
      vpc:
        availabilityZoneSelection: Ordered
        availabilityZoneUsageLimit: 3
        cidrBlock: 10.0.0.0/16
        id: vpc-024531a17e4259119
        internetGatewayId: igw-04503e2685e37b2f7
        subnetSchema: PreferPrivate
        tags:
          Name: dk-eks-awslb-2-vpc
          sigs.k8s.io/cluster-api-provider-aws/cluster/dk-eks-awslb-2: owned
          sigs.k8s.io/cluster-api-provider-aws/role: common
    region: us-west-2
    restrictPrivateSubnets: false
    roleName: eks-controlplane.cluster-api-provider-aws.sigs.k8s.io
    tokenMethod: iam-authenticator
    version: v1.34.1
    vpcCni:
      disable: true
  status:
    conditions:
    - lastTransitionTime: "2025-10-13T21:01:37Z"
      status: "True"
      type: Ready
    - lastTransitionTime: "2025-10-13T20:51:31Z"
      status: "True"
      type: CarrierGatewayReady
    - lastTransitionTime: "2025-10-13T20:53:23Z"
      status: "True"
      type: ClusterSecurityGroupsReady
    - lastTransitionTime: "2025-10-13T21:01:36Z"
      status: "True"
      type: EKSAddonsConfigured
    - lastTransitionTime: "2025-10-13T21:01:34Z"
      reason: created
      severity: Info
      status: "False"
      type: EKSControlPlaneCreating
    - lastTransitionTime: "2025-10-13T21:01:35Z"
      status: "True"
      type: EKSControlPlaneReady
    - lastTransitionTime: "2025-10-13T21:01:36Z"
      status: "True"
      type: EKSIdentityProviderConfigured
    - lastTransitionTime: "2025-10-13T20:51:31Z"
      status: "True"
      type: EgressOnlyInternetGatewayReady
    - lastTransitionTime: "2025-10-13T21:01:37Z"
      status: "True"
      type: IAMAuthenticatorConfigured
    - lastTransitionTime: "2025-10-13T20:53:24Z"
      status: "True"
      type: IAMControlPlaneRolesReady
    - lastTransitionTime: "2025-10-13T20:51:31Z"
      status: "True"
      type: InternetGatewayReady
    - lastTransitionTime: "2025-10-13T20:53:18Z"
      status: "True"
      type: NatGatewaysReady
    - lastTransitionTime: "2025-10-13T20:51:25Z"
      reason: NotPaused
      status: "False"
      type: Paused
    - lastTransitionTime: "2025-10-13T20:53:28Z"
      status: "True"
      type: RouteTablesReady
    - lastTransitionTime: "2025-10-13T20:51:26Z"
      status: "True"
      type: SecondaryCidrsReady
    - lastTransitionTime: "2025-10-13T20:51:31Z"
      status: "True"
      type: SubnetsReady
    - lastTransitionTime: "2025-10-13T20:53:22Z"
      status: "True"
      type: VpcEndpointsReadyCondition
    - lastTransitionTime: "2025-10-13T20:51:27Z"
      status: "True"
      type: VpcReady
    externalManagedControlPlane: true
    failureDomains:
      us-west-2a:
        controlPlane: true
      us-west-2b:
        controlPlane: true
      us-west-2c:
        controlPlane: true
    initialized: true
    networkStatus:
      natGatewaysIPs:
      - 44.254.55.112
      - 35.81.199.83
      - 52.88.160.123
      securityGroups:
        cluster:
          id: sg-03146276618187c37
          name: eks-cluster-sg-default_dk-eks-awslb-2-6qhks-1456113976
          tags:
            Name: eks-cluster-sg-default_dk-eks-awslb-2-6qhks-1456113976
            aws:eks:cluster-name: default_dk-eks-awslb-2-6qhks
            kubernetes.io/cluster/default_dk-eks-awslb-2-6qhks: owned
        node:
          id: sg-03146276618187c37
          name: eks-cluster-sg-default_dk-eks-awslb-2-6qhks-1456113976
          tags:
            Name: eks-cluster-sg-default_dk-eks-awslb-2-6qhks-1456113976
            aws:eks:cluster-name: default_dk-eks-awslb-2-6qhks
            kubernetes.io/cluster/default_dk-eks-awslb-2-6qhks: owned
        node-eks-additional:
          id: sg-0fd72c82461a26c68
          name: dk-eks-awslb-2-node-eks-additional
          tags:
            Name: dk-eks-awslb-2-node-eks-additional
            sigs.k8s.io/cluster-api-provider-aws/cluster/dk-eks-awslb-2: owned
            sigs.k8s.io/cluster-api-provider-aws/role: node-eks-additional
    ready: true
    version: 1.34.1
- apiVersion: controlplane.cluster.x-k8s.io/v1beta2
  kind: AWSManagedControlPlaneTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:07Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: eks
    name: eks-quick-start-control-plane
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: eks-quick-start
      uid: 85c2e49c-aa03-4cfd-8b6b-929a604c052a
    resourceVersion: "2189"
    uid: 328697fa-93d1-4c0f-b524-185c4a4a1a4f
  spec:
    template:
      spec:
        associateOIDCProvider: false
        bastion:
          allowedCIDRBlocks:
          - 0.0.0.0/0
          enabled: false
        bootstrapSelfManagedAddons: false
        controlPlaneEndpoint:
          host: ""
          port: 0
        endpointAccess: {}
        identityRef:
          kind: AWSClusterControllerIdentity
          name: default
        kubeProxy:
          disable: true
        network:
          cni:
            cniIngressRules:
            - description: bgp (calico)
              fromPort: 179
              protocol: tcp
              toPort: 179
            - description: IP-in-IP (calico)
              fromPort: -1
              protocol: "4"
              toPort: 65535
          vpc:
            availabilityZoneSelection: Ordered
            availabilityZoneUsageLimit: 3
            subnetSchema: PreferPrivate
        restrictPrivateSubnets: false
        tokenMethod: iam-authenticator
        vpcCni:
          disable: true
- apiVersion: controlplane.cluster.x-k8s.io/v1beta1
  kind: KubeadmControlPlaneTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:08Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: aws
    name: aws-quick-start-control-plane
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: aws-quick-start
      uid: 4bab61e7-664b-43e3-b4ba-af3bae57d950
    resourceVersion: "2209"
    uid: a107b04b-79d4-4c2a-875c-9c1d5b7ff209
  spec:
    template:
      metadata: {}
      spec:
        kubeadmConfigSpec:
          clusterConfiguration:
            apiServer:
              extraArgs:
                admission-control-config-file: /etc/kubernetes/admission.yaml
                enable-admission-plugins: DenyServiceExternalIPs,EventRateLimit,NodeRestriction
                profiling: "false"
                service-account-lookup: "true"
              extraVolumes:
              - hostPath: /etc/kubernetes/admission.yaml
                mountPath: /etc/kubernetes/admission.yaml
                name: admission-config
                pathType: File
                readOnly: true
              - hostPath: /etc/kubernetes/eventratelimit-config.yaml
                mountPath: /etc/kubernetes/eventratelimit-config.yaml
                name: eventratelimit-config
                pathType: File
                readOnly: true
            controllerManager:
              extraArgs:
                cloud-provider: external
                profiling: "false"
                terminated-pod-gc-threshold: "10000"
            dns: {}
            etcd: {}
            networking: {}
            scheduler:
              extraArgs:
                profiling: "false"
          files:
          - content: |
              apiVersion: kubelet.config.k8s.io/v1beta1
              kind: KubeletConfiguration
              evictionHard:
                nodefs.available: "10%"
                nodefs.inodesFree: "5%"
                imagefs.available: "15%"
                memory.available: "100Mi"
                imagefs.inodesFree: "10%"
            path: /etc/kubernetes/patches/kubeletconfiguration0+strategic.json
            permissions: "0600"
          - content: |
              apiVersion: kubelet.config.k8s.io/v1beta1
              kind: KubeletConfiguration
              # 4.2.4 Ensure that the --read-only-port argument is set to 0
              readOnlyPort: 0
              # 4.2.5 Ensure that the --streaming-connection-idle-timeout argument is not set to 0
              # Recommendation: Set to 5m instead of 4h as per CIS guidelines
              streamingConnectionIdleTimeout: "5m"
              # 4.2.8 Ensure that the event-qps argument is set to a level which ensures appropriate event capture
              eventRecordQPS: 5
              # 4.2.12 Updated with recommended strong cipher suites
              tlsCipherSuites: [TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384]
              # 4.2.13 Ensure that a limit is set on pod PIDs
              podPidsLimit: 4096
            path: /etc/kubernetes/patches/kubeletconfiguration1+strategic.json
            permissions: "0600"
          - content: |
              apiVersion: apiserver.config.k8s.io/v1
              kind: AdmissionConfiguration
              plugins:
              - name: EventRateLimit
                path: /etc/kubernetes/eventratelimit-config.yaml
            path: /etc/kubernetes/admission.yaml
            permissions: "0600"
          - content: |
              apiVersion: eventratelimit.admission.k8s.io/v1alpha1
              kind: Configuration
              limits:
              - type: Server
                qps: 10000
                burst: 40000
            path: /etc/kubernetes/eventratelimit-config.yaml
            permissions: "0600"
          format: cloud-config
          initConfiguration:
            localAPIEndpoint: {}
            nodeRegistration:
              imagePullPolicy: IfNotPresent
              kubeletExtraArgs:
                cloud-provider: external
              name: '{{ ds.meta_data.local_hostname }}'
            patches:
              directory: /etc/kubernetes/patches
          joinConfiguration:
            discovery: {}
            nodeRegistration:
              imagePullPolicy: IfNotPresent
              kubeletExtraArgs:
                cloud-provider: external
              name: '{{ ds.meta_data.local_hostname }}'
            patches:
              directory: /etc/kubernetes/patches
          postKubeadmCommands:
          - chmod 600 "$(systemctl show -P FragmentPath kubelet.service)"
          - chmod 600 $(systemctl show -P DropInPaths kubelet.service)
          - chmod 600 /var/lib/kubelet/config.yaml
        rolloutStrategy:
          rollingUpdate:
            maxSurge: 1
          type: RollingUpdate
- apiVersion: controlplane.cluster.x-k8s.io/v1beta1
  kind: KubeadmControlPlaneTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:08Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: docker
    name: docker-quick-start-control-plane
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: docker-quick-start
      uid: 1adf57d2-3d62-45c0-b309-4453b9572c7a
    resourceVersion: "2175"
    uid: 154ecb6f-4a37-44b4-9317-8875f0785aa8
  spec:
    template:
      metadata: {}
      spec:
        kubeadmConfigSpec:
          clusterConfiguration:
            apiServer:
              extraArgs:
                admission-control-config-file: /etc/kubernetes/admission.yaml
                enable-admission-plugins: DenyServiceExternalIPs,EventRateLimit,NodeRestriction
                profiling: "false"
                service-account-lookup: "true"
              extraVolumes:
              - hostPath: /etc/kubernetes/admission.yaml
                mountPath: /etc/kubernetes/admission.yaml
                name: admission-config
                pathType: File
                readOnly: true
              - hostPath: /etc/kubernetes/eventratelimit-config.yaml
                mountPath: /etc/kubernetes/eventratelimit-config.yaml
                name: eventratelimit-config
                pathType: File
                readOnly: true
            controllerManager:
              extraArgs:
                profiling: "false"
                terminated-pod-gc-threshold: "10000"
            dns: {}
            etcd: {}
            networking: {}
            scheduler:
              extraArgs:
                profiling: "false"
          files:
          - content: |
              apiVersion: kubelet.config.k8s.io/v1beta1
              kind: KubeletConfiguration
              # 4.2.4 Ensure that the --read-only-port argument is set to 0
              readOnlyPort: 0
              # 4.2.5 Ensure that the --streaming-connection-idle-timeout argument is not set to 0
              # Recommendation: Set to 5m instead of 4h as per CIS guidelines
              streamingConnectionIdleTimeout: "5m"
              # 4.2.8 Ensure that the event-qps argument is set to a level which ensures appropriate event capture
              eventRecordQPS: 5
              # 4.2.12 Updated with recommended strong cipher suites
              tlsCipherSuites: [TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384]
              # 4.2.13 Ensure that a limit is set on pod PIDs
              podPidsLimit: 4096
            path: /etc/kubernetes/patches/kubeletconfiguration1+strategic.json
            permissions: "0600"
          - content: |
              apiVersion: apiserver.config.k8s.io/v1
              kind: AdmissionConfiguration
              plugins:
              - name: EventRateLimit
                path: /etc/kubernetes/eventratelimit-config.yaml
            path: /etc/kubernetes/admission.yaml
            permissions: "0600"
          - content: |
              apiVersion: eventratelimit.admission.k8s.io/v1alpha1
              kind: Configuration
              limits:
              - type: Server
                qps: 10000
                burst: 40000
            path: /etc/kubernetes/eventratelimit-config.yaml
            permissions: "0600"
          format: cloud-config
          initConfiguration:
            localAPIEndpoint: {}
            nodeRegistration:
              imagePullPolicy: IfNotPresent
            patches:
              directory: /etc/kubernetes/patches
          joinConfiguration:
            discovery: {}
            nodeRegistration:
              imagePullPolicy: IfNotPresent
            patches:
              directory: /etc/kubernetes/patches
          postKubeadmCommands:
          - chmod 600 "$(systemctl show -P FragmentPath kubelet.service)"
          - chmod 600 $(systemctl show -P DropInPaths kubelet.service)
          - chmod 600 /var/lib/kubelet/config.yaml
        rolloutStrategy:
          rollingUpdate:
            maxSurge: 1
          type: RollingUpdate
- apiVersion: controlplane.cluster.x-k8s.io/v1beta1
  kind: KubeadmControlPlaneTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:08Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: nutanix
    name: nutanix-quick-start-kcpt
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: nutanix-quick-start
      uid: 29120efe-8866-4d49-bc1c-0ec2dce8096b
    resourceVersion: "2187"
    uid: 994e07a3-39dc-4c64-9a9a-b4b1e46a6d30
  spec:
    template:
      metadata: {}
      spec:
        kubeadmConfigSpec:
          clusterConfiguration:
            apiServer:
              extraArgs:
                admission-control-config-file: /etc/kubernetes/admission.yaml
                enable-admission-plugins: DenyServiceExternalIPs,EventRateLimit,NodeRestriction
                profiling: "false"
                service-account-lookup: "true"
              extraVolumes:
              - hostPath: /etc/kubernetes/admission.yaml
                mountPath: /etc/kubernetes/admission.yaml
                name: admission-config
                pathType: File
                readOnly: true
              - hostPath: /etc/kubernetes/eventratelimit-config.yaml
                mountPath: /etc/kubernetes/eventratelimit-config.yaml
                name: eventratelimit-config
                pathType: File
                readOnly: true
            controllerManager:
              extraArgs:
                cloud-provider: external
                profiling: "false"
                terminated-pod-gc-threshold: "10000"
                tls-cipher-suites: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
            dns: {}
            etcd: {}
            networking: {}
            scheduler:
              extraArgs:
                profiling: "false"
                tls-cipher-suites: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
          files:
          - content: |-
              apiVersion: v1
              kind: Pod
              metadata:
                name: kube-vip
                namespace: kube-system
              spec:
                containers:
                  - args:
                      - manager
                    env:
                      - name: vip_arp
                        value: "true"
                      - name: port
                        value: '{{ .Port }}'
                      - name: vip_nodename
                        valueFrom:
                          fieldRef:
                            fieldPath: spec.nodeName
                      - name: vip_subnet
                        value: "32"
                      - name: dns_mode
                        value: first
                      - name: cp_enable
                        value: "true"
                      - name: cp_namespace
                        value: kube-system
                      - name: vip_leaderelection
                        value: "true"
                      - name: vip_leasename
                        value: plndr-cp-lock
                      - name: vip_leaseduration
                        value: "15"
                      - name: vip_renewdeadline
                        value: "10"
                      - name: vip_retryperiod
                        value: "2"
                      - name: address
                        value: '{{ .Address }}'
                      - name: prometheus_server
                    image: ghcr.io/kube-vip/kube-vip:v0.9.1
                    imagePullPolicy: IfNotPresent
                    name: kube-vip
                    resources: {}
                    securityContext:
                      capabilities:
                        add:
                          - NET_ADMIN
                          - NET_RAW
                        drop:
                          - ALL
                    volumeMounts:
                      - mountPath: /etc/kubernetes/admin.conf
                        name: kubeconfig
                hostAliases:
                  - hostnames:
                      - kubernetes
                    ip: 127.0.0.1
                hostNetwork: true
                volumes:
                  - hostPath:
                      path: /etc/kubernetes/admin.conf
                    name: kubeconfig
            path: /etc/kubernetes/manifests/kube-vip.yaml
          - content: |
              apiVersion: kubelet.config.k8s.io/v1beta1
              kind: KubeletConfiguration
              evictionHard:
                nodefs.available: "10%"
                nodefs.inodesFree: "5%"
                imagefs.available: "15%"
                memory.available: "100Mi"
                imagefs.inodesFree: "10%"
            path: /etc/kubernetes/patches/kubeletconfiguration0+strategic.json
            permissions: "0600"
          - content: |
              apiVersion: kubelet.config.k8s.io/v1beta1
              kind: KubeletConfiguration
              # 4.2.4 Ensure that the --read-only-port argument is set to 0
              readOnlyPort: 0
              # 4.2.5 Ensure that the --streaming-connection-idle-timeout argument is not set to 0
              # Recommendation: Set to 5m instead of 4h as per CIS guidelines
              streamingConnectionIdleTimeout: "5m"
              # 4.2.8 Ensure that the event-qps argument is set to a level which ensures appropriate event capture
              eventRecordQPS: 5
              # 4.2.12 Updated with recommended strong cipher suites
              tlsCipherSuites: [TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384]
              # 4.2.13 Ensure that a limit is set on pod PIDs
              podPidsLimit: 4096
            path: /etc/kubernetes/patches/kubeletconfiguration1+strategic.json
            permissions: "0600"
          - content: |
              apiVersion: apiserver.config.k8s.io/v1
              kind: AdmissionConfiguration
              plugins:
              - name: EventRateLimit
                path: /etc/kubernetes/eventratelimit-config.yaml
            path: /etc/kubernetes/admission.yaml
            permissions: "0600"
          - content: |
              apiVersion: eventratelimit.admission.k8s.io/v1alpha1
              kind: Configuration
              limits:
              - type: Server
                qps: 10000
                burst: 40000
            path: /etc/kubernetes/eventratelimit-config.yaml
            permissions: "0600"
          format: cloud-config
          initConfiguration:
            localAPIEndpoint: {}
            nodeRegistration:
              imagePullPolicy: IfNotPresent
              kubeletExtraArgs:
                cloud-provider: external
            patches:
              directory: /etc/kubernetes/patches
          joinConfiguration:
            discovery: {}
            nodeRegistration:
              imagePullPolicy: IfNotPresent
              kubeletExtraArgs:
                cloud-provider: external
            patches:
              directory: /etc/kubernetes/patches
          postKubeadmCommands:
          - chmod 600 "$(systemctl show -P FragmentPath kubelet.service)"
          - chmod 600 $(systemctl show -P DropInPaths kubelet.service)
          - chmod 600 /var/lib/kubelet/config.yaml
          preKubeadmCommands:
          - echo "before kubeadm call" > /var/log/prekubeadm.log
          - hostnamectl set-hostname "{{ ds.meta_data.hostname }}"
          - echo "::1         ipv6-localhost ipv6-loopback" >/etc/hosts
          - echo "127.0.0.1   localhost" >>/etc/hosts
          - echo "127.0.0.1   {{ ds.meta_data.hostname }}" >> /etc/hosts
          useExperimentalRetryJoin: true
          verbosity: 10
        rolloutStrategy:
          rollingUpdate:
            maxSurge: 1
          type: RollingUpdate
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
  kind: AWSClusterControllerIdentity
  metadata:
    creationTimestamp: "2025-10-13T20:51:24Z"
    generation: 1
    labels:
      clusterctl.cluster.x-k8s.io/move-hierarchy: ""
    name: default
    resourceVersion: "2797"
    uid: c4902281-a004-499c-849f-b80ee39cca35
  spec:
    allowedNamespaces:
      list: null
      selector: {}
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
  kind: AWSClusterTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:07Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: aws
    name: aws-quick-start
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: aws-quick-start
      uid: 4bab61e7-664b-43e3-b4ba-af3bae57d950
    resourceVersion: "2162"
    uid: e75b4260-cd3e-4250-af9f-205737ee4216
  spec:
    template:
      metadata: {}
      spec:
        bastion:
          allowedCIDRBlocks:
          - 0.0.0.0/0
          enabled: false
        controlPlaneEndpoint:
          host: ""
          port: 0
        controlPlaneLoadBalancer:
          crossZoneLoadBalancing: false
          healthCheckProtocol: HTTPS
          loadBalancerType: nlb
          scheme: internet-facing
        identityRef:
          kind: AWSClusterControllerIdentity
          name: default
        network:
          cni:
            cniIngressRules:
            - description: bgp (calico)
              fromPort: 179
              protocol: tcp
              toPort: 179
            - description: IP-in-IP (calico)
              fromPort: -1
              protocol: "4"
              toPort: 65535
          vpc:
            availabilityZoneSelection: Ordered
            availabilityZoneUsageLimit: 3
            subnetSchema: PreferPrivate
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
  kind: AWSMachine
  metadata:
    annotations:
      cluster.x-k8s.io/cloned-from-groupkind: AWSMachineTemplate.infrastructure.cluster.x-k8s.io
      cluster.x-k8s.io/cloned-from-name: dk-eks-awslb-2-md-0-cqkgk
      cluster.x-k8s.io/cluster-api-autoscaler-node-group-max-size: "2"
      cluster.x-k8s.io/cluster-api-autoscaler-node-group-min-size: "2"
      sigs.k8s.io/cluster-api-provider-last-applied-tags-on-volumes: '{"vol-09033dc7af0b74d78":{}}'
    creationTimestamp: "2025-10-13T20:53:40Z"
    finalizers:
    - awsmachine.infrastructure.cluster.x-k8s.io
    generation: 2
    labels:
      cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
      cluster.x-k8s.io/deployment-name: dk-eks-awslb-2-md-0-ls5z7
      cluster.x-k8s.io/set-name: dk-eks-awslb-2-md-0-ls5z7-5z9pz
      machine-template-hash: 1182355820-5z9pz
      topology.cluster.x-k8s.io/deployment-name: md-0
      topology.cluster.x-k8s.io/owned: ""
    name: dk-eks-awslb-2-md-0-ls5z7-5z9pz-fqs2w
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      blockOwnerDeletion: true
      controller: true
      kind: Machine
      name: dk-eks-awslb-2-md-0-ls5z7-5z9pz-fqs2w
      uid: b0c5aa7d-0096-4bdb-8d24-f2c905ac99bb
    resourceVersion: "6037"
    uid: ae39c0b7-b262-47a4-8efa-317870f6f3e1
  spec:
    ami:
      eksLookupType: AmazonLinux2023
    cloudInit:
      insecureSkipSecretsManager: true
    iamInstanceProfile: nodes.cluster-api-provider-aws.sigs.k8s.io
    instanceID: i-08c6a4b5110dfae9a
    instanceMetadataOptions:
      httpEndpoint: enabled
      httpPutResponseHopLimit: 2
      httpTokens: required
      instanceMetadataTags: disabled
    instanceType: m5.2xlarge
    providerID: aws:///us-west-2a/i-08c6a4b5110dfae9a
    sshKeyName: ""
  status:
    addresses:
    - address: ip-10-0-70-38.us-west-2.compute.internal
      type: InternalDNS
    - address: 10.0.70.38
      type: InternalIP
    conditions:
    - lastTransitionTime: "2025-10-13T21:01:56Z"
      status: "True"
      type: Ready
    - lastTransitionTime: "2025-10-13T21:01:56Z"
      status: "True"
      type: InstanceReady
    - lastTransitionTime: "2025-10-13T20:53:40Z"
      reason: NotPaused
      status: "False"
      type: Paused
    - lastTransitionTime: "2025-10-13T21:01:43Z"
      status: "True"
      type: SecurityGroupsReady
    instanceState: running
    ready: true
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
  kind: AWSMachine
  metadata:
    annotations:
      cluster.x-k8s.io/cloned-from-groupkind: AWSMachineTemplate.infrastructure.cluster.x-k8s.io
      cluster.x-k8s.io/cloned-from-name: dk-eks-awslb-2-md-0-cqkgk
      cluster.x-k8s.io/cluster-api-autoscaler-node-group-max-size: "2"
      cluster.x-k8s.io/cluster-api-autoscaler-node-group-min-size: "2"
      sigs.k8s.io/cluster-api-provider-last-applied-tags-on-volumes: '{"vol-0c866cc3603b441e8":{}}'
    creationTimestamp: "2025-10-13T20:53:40Z"
    finalizers:
    - awsmachine.infrastructure.cluster.x-k8s.io
    generation: 2
    labels:
      cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
      cluster.x-k8s.io/deployment-name: dk-eks-awslb-2-md-0-ls5z7
      cluster.x-k8s.io/set-name: dk-eks-awslb-2-md-0-ls5z7-5z9pz
      machine-template-hash: 1182355820-5z9pz
      topology.cluster.x-k8s.io/deployment-name: md-0
      topology.cluster.x-k8s.io/owned: ""
    name: dk-eks-awslb-2-md-0-ls5z7-5z9pz-mkjtc
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      blockOwnerDeletion: true
      controller: true
      kind: Machine
      name: dk-eks-awslb-2-md-0-ls5z7-5z9pz-mkjtc
      uid: fbcce272-41fc-4851-bd63-2cfae345da39
    resourceVersion: "6035"
    uid: 1e091049-5947-41a0-8c76-5e4b80ce261d
  spec:
    ami:
      eksLookupType: AmazonLinux2023
    cloudInit:
      insecureSkipSecretsManager: true
    iamInstanceProfile: nodes.cluster-api-provider-aws.sigs.k8s.io
    instanceID: i-01f2ed396c60805d6
    instanceMetadataOptions:
      httpEndpoint: enabled
      httpPutResponseHopLimit: 2
      httpTokens: required
      instanceMetadataTags: disabled
    instanceType: m5.2xlarge
    providerID: aws:///us-west-2a/i-01f2ed396c60805d6
    sshKeyName: ""
  status:
    addresses:
    - address: ip-10-0-109-16.us-west-2.compute.internal
      type: InternalDNS
    - address: 10.0.109.16
      type: InternalIP
    conditions:
    - lastTransitionTime: "2025-10-13T21:01:56Z"
      status: "True"
      type: Ready
    - lastTransitionTime: "2025-10-13T21:01:56Z"
      status: "True"
      type: InstanceReady
    - lastTransitionTime: "2025-10-13T20:53:40Z"
      reason: NotPaused
      status: "False"
      type: Paused
    - lastTransitionTime: "2025-10-13T21:01:43Z"
      status: "True"
      type: SecurityGroupsReady
    instanceState: running
    ready: true
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
  kind: AWSMachineTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:07Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: aws
    name: aws-quick-start-control-plane
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: aws-quick-start
      uid: 4bab61e7-664b-43e3-b4ba-af3bae57d950
    resourceVersion: "2188"
    uid: 54a9e139-f605-4f8b-866d-8cd8bdb19df1
  spec:
    template:
      spec:
        instanceType: PLACEHOLDER
        sshKeyName: ""
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
  kind: AWSMachineTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:07Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: aws
    name: aws-quick-start-worker-machinetemplate
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: aws-quick-start
      uid: 4bab61e7-664b-43e3-b4ba-af3bae57d950
    resourceVersion: "2202"
    uid: 411dfec5-7ac2-4859-aa1f-2b95e416c7cc
  spec:
    template:
      spec:
        instanceType: PLACEHOLDER
        sshKeyName: ""
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
  kind: AWSMachineTemplate
  metadata:
    annotations:
      cluster.x-k8s.io/cloned-from-groupkind: AWSMachineTemplate.infrastructure.cluster.x-k8s.io
      cluster.x-k8s.io/cloned-from-name: eks-quick-start-worker-machinetemplate
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:51:24Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
      cluster.x-k8s.io/provider: eks
      topology.cluster.x-k8s.io/deployment-name: md-0
      topology.cluster.x-k8s.io/owned: ""
    name: dk-eks-awslb-2-md-0-cqkgk
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: Cluster
      name: dk-eks-awslb-2
      uid: 66a4b0f0-b62f-4564-ad3d-365a8f532c10
    resourceVersion: "2799"
    uid: c0544657-0fb5-4c32-a1a2-c63c1f5d1b57
  spec:
    template:
      spec:
        ami:
          eksLookupType: AmazonLinux2023
        cloudInit:
          insecureSkipSecretsManager: true
        iamInstanceProfile: nodes.cluster-api-provider-aws.sigs.k8s.io
        instanceMetadataOptions:
          httpEndpoint: enabled
          httpPutResponseHopLimit: 2
          httpTokens: required
          instanceMetadataTags: disabled
        instanceType: m5.2xlarge
        sshKeyName: ""
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
  kind: AWSMachineTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:07Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: eks
    name: eks-quick-start-worker-machinetemplate
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: eks-quick-start
      uid: 85c2e49c-aa03-4cfd-8b6b-929a604c052a
    resourceVersion: "2199"
    uid: 4bd4cfca-c928-4cc1-8b32-ce1413ef201a
  spec:
    template:
      spec:
        ami:
          eksLookupType: AmazonLinux2023
        cloudInit:
          insecureSkipSecretsManager: true
        instanceMetadataOptions:
          httpEndpoint: enabled
          httpPutResponseHopLimit: 2
          httpTokens: required
          instanceMetadataTags: disabled
        instanceType: PLACEHOLDER
        sshKeyName: ""
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
  kind: AWSManagedCluster
  metadata:
    annotations:
      cluster.x-k8s.io/cloned-from-groupkind: AWSManagedClusterTemplate.infrastructure.cluster.x-k8s.io
      cluster.x-k8s.io/cloned-from-name: eks-quick-start
    creationTimestamp: "2025-10-13T20:51:24Z"
    generation: 2
    labels:
      cluster.x-k8s.io/cluster-name: dk-eks-awslb-2
      topology.cluster.x-k8s.io/owned: ""
    name: dk-eks-awslb-2-w9g55
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      blockOwnerDeletion: true
      controller: true
      kind: Cluster
      name: dk-eks-awslb-2
      uid: 66a4b0f0-b62f-4564-ad3d-365a8f532c10
    resourceVersion: "5813"
    uid: ff24099c-d45a-4e8a-bd30-67155ee8c414
  spec:
    controlPlaneEndpoint:
      host: https://BA9E9DA91414656B9E03B32742DBBEFF.gr7.us-west-2.eks.amazonaws.com
      port: 443
  status:
    conditions:
    - lastTransitionTime: "2025-10-13T20:51:25Z"
      reason: NotPaused
      status: "False"
      type: Paused
    failureDomains:
      us-west-2a:
        controlPlane: true
      us-west-2b:
        controlPlane: true
      us-west-2c:
        controlPlane: true
    ready: true
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
  kind: AWSManagedClusterTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:07Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: eks
    name: eks-quick-start
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: eks-quick-start
      uid: 85c2e49c-aa03-4cfd-8b6b-929a604c052a
    resourceVersion: "2163"
    uid: 15482053-6c3a-4754-84f4-ee688d648872
  spec:
    template:
      spec: {}
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
  kind: DockerClusterTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:07Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: docker
    name: docker-quick-start-cluster
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: docker-quick-start
      uid: 1adf57d2-3d62-45c0-b309-4453b9572c7a
    resourceVersion: "2167"
    uid: 6bc0621c-c176-464b-a9d7-7c528490235d
  spec:
    template:
      metadata: {}
      spec:
        controlPlaneEndpoint:
          host: ""
          port: 6443
        loadBalancer: {}
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
  kind: DockerMachineTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:08Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: docker
    name: docker-quick-start-control-plane
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: docker-quick-start
      uid: 1adf57d2-3d62-45c0-b309-4453b9572c7a
    resourceVersion: "2191"
    uid: 6676c48b-0208-473c-ad1a-1a9ad581b928
  spec:
    template:
      spec:
        extraMounts:
        - containerPath: /var/run/docker.sock
          hostPath: /var/run/docker.sock
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
  kind: DockerMachineTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:07Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: docker
    name: docker-quick-start-default-worker-machinetemplate
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: docker-quick-start
      uid: 1adf57d2-3d62-45c0-b309-4453b9572c7a
    resourceVersion: "2193"
    uid: 49dd7258-dd05-40e7-b1c7-2ba44832b8d2
  spec:
    template:
      spec:
        extraMounts:
        - containerPath: /var/run/docker.sock
          hostPath: /var/run/docker.sock
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
  kind: NutanixClusterTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:08Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: nutanix
    name: nutanix-quick-start-nct
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: nutanix-quick-start
      uid: 29120efe-8866-4d49-bc1c-0ec2dce8096b
    resourceVersion: "2208"
    uid: 3232154d-3ad9-4645-a822-696353fa692f
  spec:
    template:
      spec:
        controlPlaneEndpoint:
          host: PLACEHOLDER
          port: 6443
        prismCentral:
          address: PLACEHOLDER
          credentialRef:
            kind: Secret
            name: PLACEHOLDER
            namespace: default
          insecure: false
          port: 9440
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
  kind: NutanixMachineTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:08Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: nutanix
    name: nutanix-quick-start-cp-nmt
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: nutanix-quick-start
      uid: 29120efe-8866-4d49-bc1c-0ec2dce8096b
    resourceVersion: "2197"
    uid: a8c273d0-9d57-46b6-86bb-c8f7f39aa37f
  spec:
    template:
      spec:
        bootType: legacy
        image:
          name: ""
          type: name
        memorySize: 4Gi
        systemDiskSize: 40Gi
        vcpuSockets: 2
        vcpusPerSocket: 1
- apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
  kind: NutanixMachineTemplate
  metadata:
    annotations:
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
    creationTimestamp: "2025-10-13T20:50:08Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: Helm
      cluster.x-k8s.io/provider: nutanix
    name: nutanix-quick-start-md-nmt
    namespace: default
    ownerReferences:
    - apiVersion: cluster.x-k8s.io/v1beta1
      kind: ClusterClass
      name: nutanix-quick-start
      uid: 29120efe-8866-4d49-bc1c-0ec2dce8096b
    resourceVersion: "2205"
    uid: 8f6fa959-bf67-4182-bf94-6bbc90aeb969
  spec:
    template:
      spec:
        bootType: legacy
        image:
          name: ""
          type: name
        memorySize: 4Gi
        systemDiskSize: 40Gi
        vcpuSockets: 2
        vcpusPerSocket: 1
- apiVersion: runtime.cluster.x-k8s.io/v1alpha1
  kind: ExtensionConfig
  metadata:
    annotations:
      caren.nutanix.com/version: v0.0.0-dev
      meta.helm.sh/release-name: cluster-api-runtime-extensions-nutanix
      meta.helm.sh/release-namespace: default
      runtime.cluster.x-k8s.io/inject-ca-from-secret: default/cluster-api-runtime-extensions-nutanix-runtimehooks-tls
    creationTimestamp: "2025-10-13T20:50:08Z"
    generation: 2
    labels:
      app.kubernetes.io/managed-by: Helm
    name: cluster-api-runtime-extensions-nutanix
    resourceVersion: "2303"
    uid: 6bfe2aae-b3df-4b65-beea-e77e6ebf07c2
  spec:
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURUVENDQWpXZ0F3SUJBZ0lRQzdDaHo3RFU3U2FoTzlPM1BveTIwREFOQmdrcWhraUc5dzBCQVFzRkFEQUEKTUI0WERUSTFNVEF4TXpJd05UQXdPRm9YRFRJMk1ERXhNVEl3TlRBd09Gb3dBRENDQVNJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTGRIblJtTTltTndUZVo5OEc4R1lUaEVKSmlKZkVnR0FWclNPemYrCnFvZ3dVMWtwTnhacVp4bWFHSmE3aDVyL0t5WXc0cmZoQnhBdG5Ja0Q2Mm5iVW5mYlBwZ0hnRzYreXRzTWxkckUKcDJvMmkzcEFiRUZvNzVjQk9hOXZENzJjV0kzT0pvZTY3SHUxeURHdExqcWlXR0M1a1hwZ1FOaDU4RVZ3eGVQcgpmWUJxa3hyZjgvc0QzVnIzWlhwSi9GTGp4aWxqcE85aWhQT041d3FqNTNEdGphc1lFSm9md25OUGdtM2FqRG1LCnd0MW9oWUVBVXNnY29uMWhDbnpSVDUydEZxb3l4Tm9yUXFvZzVXdm9vd2VjQWJwdkRrRHJqa1NjTE9RdFJmNWYKRVpPL2VjbzQwRTRLMS9WNGV1TmZONTJweTZjT3AzdGRobnZVWVJaVDVmQllkZWtDQXdFQUFhT0J3akNCdnpBTwpCZ05WSFE4QkFmOEVCQU1DQmFBd0RBWURWUjBUQVFIL0JBSXdBRENCbmdZRFZSMFJBUUgvQklHVE1JR1FnajlqCmJIVnpkR1Z5TFdGd2FTMXlkVzUwYVcxbExXVjRkR1Z1YzJsdmJuTXRiblYwWVc1cGVDMXlkVzUwYVcxbGFHOXYKYTNNdVpHVm1ZWFZzZEM1emRtT0NUV05zZFhOMFpYSXRZWEJwTFhKMWJuUnBiV1V0WlhoMFpXNXphVzl1Y3kxdQpkWFJoYm1sNExYSjFiblJwYldWb2IyOXJjeTVrWldaaGRXeDBMbk4yWXk1amJIVnpkR1Z5TG14dlkyRnNNQTBHCkNTcUdTSWIzRFFFQkN3VUFBNElCQVFBbk8yVThKSTJaWUQwSStzbS8ra0g2OFZ4SGpwbW1pMDdwSjBja3h5T0MKTDNsN1RUSDhKRTF4NGVwdXRBclZDODhIU0hTVFZrTm1oakNNU0ducElMUzhOeVhiMk9LMTRNRmlXWHFhbmtReQptK3k4UTdwSUliZzVpUFdJbWNIZlo0ODJZWmUrVlZlS2hQWi9VTVdPZkRaQXp2WDRqL0lpczE3WFlGU0p6R2RBCllKTjhDbjIzRmMrTHRvRjdWZlBZekNweEx3SGxyVDl1SVAzdkJjQlpwOERQVDhhbHREZUs4RzlRSnlMTVExcTcKMmI0dXVLV2kzbE1paCtEcVAwRjlIWkdXTFNWZmlHMDRTNVBsMG5nMHhacVJWVkZxWDJRcFdWalR4S0RwZHhwVwpzVVVRc25LazFNM0hZdFhDRWNXeENzLzJlejRKMzJOZDQ5K0tlRElnZ2tsMQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: cluster-api-runtime-extensions-nutanix-runtimehooks
        namespace: default
        port: 443
    namespaceSelector: {}
  status:
    conditions:
    - lastTransitionTime: "2025-10-13T20:50:13Z"
      status: "True"
      type: Discovered
    handlers:
    - failurePolicy: Fail
      name: nutanixworkerv3configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: eksworkerconfigvars-dv.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: DiscoverVariables
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: genericworkerv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: awsclusterconfigvars-dv.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: DiscoverVariables
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: awsclusterv3configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: dockerclusterconfigvars-dv.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: DiscoverVariables
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: dockerworkerconfigvars-dv.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: DiscoverVariables
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: eksclusterv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: caren-acpi.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: AfterControlPlaneInitialized
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: eksworkerv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: nutanixclusterconfigvars-dv.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: DiscoverVariables
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: nutanixworkerconfigvars-dv.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: DiscoverVariables
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: genericclusterconfigvars-dv.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: DiscoverVariables
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: caren-bcd.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: BeforeClusterDelete
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: dockerclusterv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: nutanixclusterv3configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: nutanixworkerv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: eksclusterconfigvars-dv.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: DiscoverVariables
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: genericworkerv3configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: dockerworkerv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: dockerworkerv3configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: nutanixclusterv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: genericclusterv3configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: genericclusterv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: caren-bcu.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: BeforeClusterUpgrade
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: awsworkerconfigvars-dv.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: DiscoverVariables
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: caren-bcc.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: BeforeClusterCreate
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: awsclusterv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: awsworkerv4configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: awsworkerv3configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    - failurePolicy: Fail
      name: dockerclusterv3configpatch-gp.cluster-api-runtime-extensions-nutanix
      requestHook:
        apiVersion: hooks.runtime.cluster.x-k8s.io/v1alpha1
        hook: GeneratePatches
      timeoutSeconds: 10
    v1beta2:
      conditions:
      - lastTransitionTime: "2025-10-13T20:50:13Z"
        message: ""
        observedGeneration: 2
        reason: Discovered
        status: "True"
        type: Discovered
      - lastTransitionTime: "2025-10-13T20:50:08Z"
        message: ""
        observedGeneration: 2
        reason: NotPaused
        status: "False"
        type: Paused
kind: List
metadata:
  resourceVersion: ""
